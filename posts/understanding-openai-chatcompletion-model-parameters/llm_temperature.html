<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Arun Prakash">
<meta name="dcterms.date" content="2023-12-17">

<title>Explained Intuitively - Understanding OpenAI ChatCompletion Model Parameters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Explained Intuitively</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/arunslb123" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/arunprakashml" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title">Understanding OpenAI ChatCompletion Model Parameters</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">llm</div>
                <div class="quarto-category">openai</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Arun Prakash </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 17, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">




<p>In this lesson, we will go through different parameters in LLM that control the token generation process</p>
<ul>
<li>temperature</li>
<li>top_p</li>
<li>frequency_penalty</li>
<li>presence_penalty</li>
</ul>
<p>I have written two helper functions <code>highlight_openai_response</code> and <code>highlight</code> for highlighting the probabilities of the tokens generated by the model. Less probable tokens are highlighted in white and more probable tokens are highlighted in green.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/1bdcfe8d-1-IMG_F4CC52CE7F7F-1.jpeg" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption">IMG_F4CC52CE7F7F-1.jpeg</figcaption>
</figure>
</div>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>question <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">What is machine learning? Explain it to a five year old.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">Answer within 100 words, 3 paragraphs</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> <span class="st">"gpt-3.5-turbo"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> HTML</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.colors <span class="im">as</span> mcolors</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> highlight_openai_response(response):</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    messages <span class="op">=</span> response.choices[<span class="dv">0</span>].message.content</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    probabilities <span class="op">=</span> []</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        probabilities.append(np.exp(res.logprob))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    highlight(messages, probabilities)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> highlight(text, probabilities):</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Split the text into words, preserving newlines and spaces</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> []</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> line <span class="kw">in</span> text.split(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>):</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        words.extend([(word, <span class="st">" "</span>) <span class="cf">for</span> word <span class="kw">in</span> line.split(<span class="st">" "</span>)] <span class="op">+</span> [(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">""</span>)])</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the last element if it is a newline, added due to the split</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> words[<span class="op">-</span><span class="dv">1</span>][<span class="dv">0</span>] <span class="op">==</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>:</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        words.pop()</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure probabilities list matches the number of non-empty words</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    normalized_probs <span class="op">=</span> [<span class="bu">min</span>(<span class="bu">max</span>(<span class="dv">0</span>, p), <span class="dv">1</span>) <span class="cf">for</span> p <span class="kw">in</span> probabilities]</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use a Seaborn color palette and map probabilities to colors</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    palette <span class="op">=</span> sns.light_palette(<span class="st">"green"</span>, as_cmap<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Start building the HTML string using the 'pre' tag to preserve whitespace</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    html_string <span class="op">=</span> <span class="st">"&lt;pre style='font-family: inherit; white-space: pre-wrap; word-break: break-all;'&gt;"</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    prob_index <span class="op">=</span> <span class="dv">0</span>  <span class="co"># Index for the current probability</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> word, space <span class="kw">in</span> words:</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> word <span class="kw">and</span> word <span class="op">!=</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>:  <span class="co"># If the element is not a space or newline</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>            rgba_color <span class="op">=</span> palette(normalized_probs[prob_index])</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>            hex_color <span class="op">=</span> mcolors.to_hex(rgba_color)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Set the text color to black and the background color to the word's color</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>            html_string <span class="op">+=</span> <span class="ss">f"&lt;span style='background-color: </span><span class="sc">{</span>hex_color<span class="sc">}</span><span class="ss">; color: black;'&gt;</span><span class="sc">{</span>word<span class="sc">}</span><span class="ss">&lt;/span&gt;"</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> space:</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Set the space's background color to the word's color</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>                html_string <span class="op">+=</span> <span class="ss">f"&lt;span style='background-color: </span><span class="sc">{</span>hex_color<span class="sc">}</span><span class="ss">; color: black;'&gt;</span><span class="sc">{</span>space<span class="sc">}</span><span class="ss">&lt;/span&gt;"</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>            prob_index <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> word <span class="op">==</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>:</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Add a newline in HTML, and reset the color for the next line</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>            html_string <span class="op">+=</span> <span class="st">"&lt;br&gt;"</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>            <span class="co"># This case handles multiple spaces in a row</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>            previous_hex_color <span class="op">=</span> mcolors.to_hex(</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>                palette(normalized_probs[prob_index <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>            html_string <span class="op">+=</span> (</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>                <span class="ss">f"&lt;span style='background-color: </span><span class="sc">{</span>previous_hex_color<span class="sc">}</span><span class="ss">;'&gt; &lt;/span&gt;"</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>    html_string <span class="op">+=</span> <span class="st">"&lt;/pre&gt;"</span>  <span class="co"># Close the 'pre' tag</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Display the HTML string</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>    display(HTML(html_string))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>highlight(<span class="st">"Hello I am Arun"</span>, [<span class="fl">0.9</span>, <span class="fl">0.8</span>, <span class="fl">0.6</span>, <span class="fl">0.4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #178b17; color: black;">Hello</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #2f972f; color: black;">I</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #5eae5e; color: black;">am</span><span style="background-color: #5eae5e; color: black;"> </span><span style="background-color: #8dc58d; color: black;">Arun</span><span style="background-color: #8dc58d; color: black;"> </span></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>load_dotenv()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">"OPENAI_API_KEY"</span>] <span class="op">=</span> os.getenv(<span class="st">"OPENAI_API_KEY"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> openai <span class="im">import</span> OpenAI, __version__</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"OpenAI version: </span><span class="sc">{</span>__version__<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> OpenAI()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OpenAI version: 1.5.0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">42</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="tokens" class="level1">
<h1>Tokens</h1>
<p>In large language models (LLMs), tokens are the smallest units of text that the model processes and generates. They can represent individual characters, words, subwords, or even larger linguistic units, depending on the specific tokenization approach used. Tokens act as a bridge between the raw text data and the numerical representations that LLMs can work with.</p>
<p>In the context of OpenAI, tokens are the basic units of text processed by their language models, such as GPT-3. OpenAI employs Byte-Pair Encoding (BPE) for tokenization, which is a method initially designed for text compression. BPE identifies the most frequent pairs of characters or tokens and merges them to form new tokens, thus optimizing the tokenization process for efficiency and effectiveness in representing the text data. This approach allows the model to handle a wide range of vocabulary, including rare words or phrases, by breaking them down into subword units.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/b34c8713-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
<p>source https://platform.openai.com/tokenizer</p>
<p>In openai chat completion APIs, four parameter controls the token generation process. They are</p>
<ul>
<li>temperature</li>
<li>top_p</li>
<li>frequency_penalty</li>
<li>presence_penalty</li>
</ul>
</section>
<section id="temperature" class="level1">
<h1>Temperature</h1>
<p>In large language models, temperature is a parameter that controls the randomness of predictions by scaling the logits before applying the softmax function. A low temperature makes the model more confident and conservative, favoring more likely predictions, while a high temperature increases diversity and creativity, allowing for less probable outcomes.</p>
<p>Temperature adjusts the probability distribution of the next word. A higher temperature increases randomness, while a lower one makes the model more deterministic.</p>
<p>Purpose: It controls the level of unpredictability in the output.</p>
<p>The temperature adjustment equation in LaTeX format is as follows:</p>
<p><span class="math display">\[
P'(w_i) = \frac{P(w_i)^{\frac{1}{T}}}{\sum_{j=1}^{V} P(w_j)^{\frac{1}{T}}}
\]</span></p>
<p>Here, <span class="math inline">\(P(w_i)\)</span> is the original probability of the word <span class="math inline">\(w_i\)</span>, <span class="math inline">\(T\)</span> is the temperature, <span class="math inline">\(P'(w_i)\)</span> is the adjusted probability of the word, and <span class="math inline">\(V\)</span> is the vocabulary size (the total number of words over which the probabilities are distributed). This equation shows how each original probability <span class="math inline">\(P(w_i)\)</span> is raised to the power of the reciprocal of the temperature, and then normalized by dividing by the sum of all such adjusted probabilities to ensure that the adjusted probabilities sum to 1.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fl">0.15</span><span class="op">**</span> (<span class="dv">1</span><span class="op">/</span><span class="fl">1.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>0.368437494723581</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fl">0.15</span><span class="op">**</span> (<span class="dv">1</span><span class="op">/</span><span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>0.06652540281931184</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Base probabilities for 20 words</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>base_probabilities <span class="op">=</span> [</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.19</span>, <span class="fl">0.12</span>, <span class="fl">0.10</span>, <span class="fl">0.09</span>, <span class="fl">0.08</span>, <span class="fl">0.07</span>, <span class="fl">0.06</span>, <span class="fl">0.05</span>, <span class="fl">0.04</span>, <span class="fl">0.03</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.03</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Temperatures</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>high_temperature <span class="op">=</span> <span class="fl">1.9</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>low_temperature <span class="op">=</span> <span class="fl">0.4</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjusted probabilities with high temperature</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>adjusted_probabilities_high <span class="op">=</span> [p <span class="op">**</span> (<span class="dv">1</span> <span class="op">/</span> high_temperature) <span class="cf">for</span> p <span class="kw">in</span> base_probabilities]</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjusted probabilities with low temperature</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>adjusted_probabilities_low <span class="op">=</span> [p <span class="op">**</span> (<span class="dv">1</span> <span class="op">/</span> low_temperature) <span class="cf">for</span> p <span class="kw">in</span> base_probabilities]</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizing the adjusted probabilities for high temperature</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>sum_adjusted_probabilities_high <span class="op">=</span> <span class="bu">sum</span>(adjusted_probabilities_high)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>normalized_probabilities_high <span class="op">=</span> [p <span class="op">/</span> sum_adjusted_probabilities_high <span class="cf">for</span> p <span class="kw">in</span> adjusted_probabilities_high]</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizing the adjusted probabilities for low temperature</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>sum_adjusted_probabilities_low <span class="op">=</span> <span class="bu">sum</span>(adjusted_probabilities_low)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>normalized_probabilities_low <span class="op">=</span> [p <span class="op">/</span> sum_adjusted_probabilities_low <span class="cf">for</span> p <span class="kw">in</span> adjusted_probabilities_low]</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="ss">f"word</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">20</span>)]</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with the words and their probabilities, adjusted for high and low temperatures</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"word"</span>: words,</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"base_probability"</span>: base_probabilities,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"adjusted_probability_high=1.9"</span>: adjusted_probabilities_high,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"normalized_probabilities_high=1.9"</span>: normalized_probabilities_high,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"adjusted_probability_low=0.4"</span>: adjusted_probabilities_low,</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"normalized_probabilities_low=0.4"</span>: normalized_probabilities_low</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">word</th>
<th data-quarto-table-cell-role="th">base_probability</th>
<th data-quarto-table-cell-role="th">adjusted_probability_high=1.9</th>
<th data-quarto-table-cell-role="th">normalized_probabilities_high=1.9</th>
<th data-quarto-table-cell-role="th">adjusted_probability_low=0.4</th>
<th data-quarto-table-cell-role="th">normalized_probabilities_low=0.4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>word0</td>
<td>0.19</td>
<td>0.417250</td>
<td>0.111183</td>
<td>0.015736</td>
<td>0.493728</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>word1</td>
<td>0.12</td>
<td>0.327611</td>
<td>0.087298</td>
<td>0.004988</td>
<td>0.156515</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>word2</td>
<td>0.10</td>
<td>0.297635</td>
<td>0.079310</td>
<td>0.003162</td>
<td>0.099221</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>word3</td>
<td>0.09</td>
<td>0.281580</td>
<td>0.075032</td>
<td>0.002430</td>
<td>0.076245</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>word4</td>
<td>0.08</td>
<td>0.264654</td>
<td>0.070522</td>
<td>0.001810</td>
<td>0.056797</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>word5</td>
<td>0.07</td>
<td>0.246693</td>
<td>0.065736</td>
<td>0.001296</td>
<td>0.040677</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>word6</td>
<td>0.06</td>
<td>0.227469</td>
<td>0.060613</td>
<td>0.000882</td>
<td>0.027668</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>word7</td>
<td>0.05</td>
<td>0.206656</td>
<td>0.055067</td>
<td>0.000559</td>
<td>0.017540</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>word8</td>
<td>0.04</td>
<td>0.183756</td>
<td>0.048965</td>
<td>0.000320</td>
<td>0.010040</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>word9</td>
<td>0.03</td>
<td>0.157937</td>
<td>0.042085</td>
<td>0.000156</td>
<td>0.004891</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>word10</td>
<td>0.03</td>
<td>0.157937</td>
<td>0.042085</td>
<td>0.000156</td>
<td>0.004891</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>word11</td>
<td>0.03</td>
<td>0.157937</td>
<td>0.042085</td>
<td>0.000156</td>
<td>0.004891</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>word12</td>
<td>0.02</td>
<td>0.127587</td>
<td>0.033998</td>
<td>0.000057</td>
<td>0.001775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>word13</td>
<td>0.02</td>
<td>0.127587</td>
<td>0.033998</td>
<td>0.000057</td>
<td>0.001775</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>word14</td>
<td>0.02</td>
<td>0.127587</td>
<td>0.033998</td>
<td>0.000057</td>
<td>0.001775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>word15</td>
<td>0.01</td>
<td>0.088587</td>
<td>0.023605</td>
<td>0.000010</td>
<td>0.000314</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>word16</td>
<td>0.01</td>
<td>0.088587</td>
<td>0.023605</td>
<td>0.000010</td>
<td>0.000314</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>word17</td>
<td>0.01</td>
<td>0.088587</td>
<td>0.023605</td>
<td>0.000010</td>
<td>0.000314</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>word18</td>
<td>0.01</td>
<td>0.088587</td>
<td>0.023605</td>
<td>0.000010</td>
<td>0.000314</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>word19</td>
<td>0.01</td>
<td>0.088587</td>
<td>0.023605</td>
<td>0.000010</td>
<td>0.000314</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"base_probability"</span>].<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>1.0</code></pre>
</div>
</div>
<p>As we can see that the base probabilities decrease progressively from <code>word0</code> to <code>word19</code>, starting at 0.19 and going down to 0.01. However, after the adjustment, the probabilities are closer to each other, indicating that the temperature scaling has made the less likely words more probable and the more probable words less dominant.</p>
<p>For example, <code>word0</code> has its probability decreased from 0.19 to about 0.11, while <code>word19</code> has its probability slightly increased from 0.01 to about 0.024. This adjustment serves to flatten the probability distribution, making the model less certain and more explorative in its word choices.</p>
<p>The adjusted probabilities are also normalized, as their sum should equal 1 to represent a valid probability distribution. This adjustment allows for a less deterministic and more varied text generation, which can be useful for generating more diverse and creative text outputs.</p>
<p>The temperature adjustment has effectively reduced the likelihood of the most probable word being selected and increased the likelihood of less probable words, thus adding variability to the text generation process.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the probabilities</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>plt.plot(words, base_probabilities, label<span class="op">=</span><span class="st">"Base Probabilities"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>plt.plot(words, normalized_probabilities_high, label<span class="op">=</span><span class="st">"High Temperature"</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>plt.plot(words, normalized_probabilities_low, label<span class="op">=</span><span class="st">"Low Temperature"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Words"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Probability"</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-12-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="temperature-0-deterministic" class="level3">
<h3 class="anchored" data-anchor-id="temperature-0-deterministic">Temperature : 0( Deterministic)</h3>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.choices[<span class="dv">0</span>].message.content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Machine learning is like having a super smart robot friend that can learn things on its own. Just like how you learn new things by practicing and trying different things, machine learning is when a computer program learns from lots of examples and gets better at doing a task. For example, if you show the robot friend lots of pictures of cats and dogs, it can learn to tell the difference between them. It's like magic, but really it's just the computer using math and patterns to figure things out.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>response.choices[<span class="dv">0</span>].logprobs.content[:<span class="dv">5</span>] <span class="co"># first 5 tokens</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>[ChatCompletionTokenLogprob(token='Machine', bytes=[77, 97, 99, 104, 105, 110, 101], logprob=-0.001537835, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' learning', bytes=[32, 108, 101, 97, 114, 110, 105, 110, 103], logprob=-0.00058532227, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' is', bytes=[32, 105, 115], logprob=-0.00044044392, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' like', bytes=[32, 108, 105, 107, 101], logprob=-0.31134152, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' having', bytes=[32, 104, 97, 118, 105, 110, 103], logprob=-1.0659788, top_logprobs=[])]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> []</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    probs.append(np.exp(res.logprob))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>plt.hist(probs)<span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Probability"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>response.system_fingerprint</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">like</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #9acb9a; color: black;">having</span><span style="background-color: #9acb9a; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8fc68f; color: black;">super</span><span style="background-color: #8fc68f; color: black;"> </span><span style="background-color: #108810; color: black;">smart</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #63b163; color: black;">robot</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">friend</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #72b872; color: black;">that</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #2a952a; color: black;">can</span><span style="background-color: #2a952a; color: black;"> </span><span style="background-color: #018001; color: black;">learn</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #61af61; color: black;">things</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #65b265; color: black;">on</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #198c19; color: black;">Just</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #5cad5c; color: black;">like</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8dc58d; color: black;">you</span><span style="background-color: #8dc58d; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">learn</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">new</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #399c39; color: black;">things</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #038103; color: black;">by</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #279327; color: black;">practicing</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #53a953; color: black;">and</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #46a246; color: black;">trying</span><span style="background-color: #46a246; color: black;"> </span><span style="background-color: #40a040; color: black;">different</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #41a041; color: black;">things,</span><span style="background-color: #41a041; color: black;"> </span><span style="background-color: #43a143; color: black;">machine</span><span style="background-color: #43a143; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #369b36; color: black;">is</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #008000; color: black;">when</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #70b770; color: black;">a</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #349a34; color: black;">computer</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">program</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">learns</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #48a348; color: black;">from</span><span style="background-color: #48a348; color: black;"> </span><span style="background-color: #4ba54a; color: black;">lots</span><span style="background-color: #4ba54a; color: black;"> </span><span style="background-color: #96c996; color: black;">of</span><span style="background-color: #96c996; color: black;"> </span><span style="background-color: #359a35; color: black;">examples</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #2b952b; color: black;">and</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">gets</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">better</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">at</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #0d860d; color: black;">doing</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #0c860c; color: black;">a</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">task.</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #6db56d; color: black;">For</span><span style="background-color: #6db56d; color: black;"> </span><span style="background-color: #349934; color: black;">example,</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #70b770; color: black;">if</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #84c084; color: black;">you</span><span style="background-color: #84c084; color: black;"> </span><span style="background-color: #008000; color: black;">show</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #50a750; color: black;">robot</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">friend</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #2d962d; color: black;">lots</span><span style="background-color: #2d962d; color: black;"> </span><span style="background-color: #339933; color: black;">of</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #84c184; color: black;">pictures</span><span style="background-color: #84c184; color: black;"> </span><span style="background-color: #168b16; color: black;">of</span><span style="background-color: #168b16; color: black;"> </span><span style="background-color: #379b37; color: black;">cats</span><span style="background-color: #379b37; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">dogs,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #51a851; color: black;">can</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #118811; color: black;">learn</span><span style="background-color: #118811; color: black;"> </span><span style="background-color: #0f870f; color: black;">to</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #369b36; color: black;">tell</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #018001; color: black;">the</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">difference</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #078407; color: black;">between</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #088408; color: black;">them.</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #098509; color: black;">It's</span><span style="background-color: #098509; color: black;"> </span><span style="background-color: #269226; color: black;">like</span><span style="background-color: #269226; color: black;"> </span><span style="background-color: #008000; color: black;">magic,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">but</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #078407; color: black;">really</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #66b266; color: black;">it's</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #65b265; color: black;">just</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #68b368; color: black;">the</span><span style="background-color: #68b368; color: black;"> </span><span style="background-color: #49a449; color: black;">computer</span><span style="background-color: #49a449; color: black;"> </span><span style="background-color: #8fc68f; color: black;">using</span><span style="background-color: #8fc68f; color: black;"> </span><span style="background-color: #70b770; color: black;">math</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #2f972f; color: black;">and</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #62b062; color: black;">patterns</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #078407; color: black;">to</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #018001; color: black;">figure</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0a850a; color: black;">things</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #7abc7a; color: black;">out.</span><span style="background-color: #7abc7a; color: black;"> </span></pre>
</div>
</div>
</section>
</section>
<section id="high-temperature-more-randomness" class="level1">
<h1>High Temperature ( More Randomness)</h1>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="fl">1.6</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #c4e0c4; color: black;">when</span><span style="background-color: #c4e0c4; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">computer</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #068306; color: black;">programs</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #a1cfa1; color: black;">can</span><span style="background-color: #a1cfa1; color: black;"> </span><span style="background-color: #048204; color: black;">learn</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #56aa56; color: black;">and</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #c8e2c8; color: black;">improve</span><span style="background-color: #c8e2c8; color: black;"> </span><span style="background-color: #96c996; color: black;">by</span><span style="background-color: #96c996; color: black;"> </span><span style="background-color: #008000; color: black;">themselves.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000;"> </span><br><span style="background-color: #008000;"> </span><br><span style="background-color: #a0cea0; color: black;">Imagine</span><span style="background-color: #a0cea0; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">you</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #219021; color: black;">have</span><span style="background-color: #219021; color: black;"> </span><span style="background-color: #048204; color: black;">a</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #038103; color: black;">puzzle</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">with</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">pictures</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #7dbd7d; color: black;">on</span><span style="background-color: #7dbd7d; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">it.</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #a6d2a6; color: black;">At</span><span style="background-color: #a6d2a6; color: black;"> </span><span style="background-color: #0b850b; color: black;">first</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #369b36; color: black;">it's</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #339933; color: black;">all</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #018001; color: black;">mixed</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">up</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">and</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #6cb56c; color: black;">you</span><span style="background-color: #6cb56c; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">don't</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #008000; color: black;">know</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #54a954; color: black;">how</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #068306; color: black;">to</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #239123; color: black;">make</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">right.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #9bcc9b; color: black;">When</span><span style="background-color: #9bcc9b; color: black;"> </span><span style="background-color: #058205; color: black;">you</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">start</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #cae3ca; color: black;">solving</span><span style="background-color: #cae3ca; color: black;"> </span><span style="background-color: #8ac48a; color: black;">it</span><span style="background-color: #8ac48a; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">few</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #008000; color: black;">times,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #a5d1a5; color: black;">you</span><span style="background-color: #a5d1a5; color: black;"> </span><span style="background-color: #e7f1e7; color: black;">start</span><span style="background-color: #e7f1e7; color: black;"> </span><span style="background-color: #2b952b; color: black;">getting</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">better</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #259225; color: black;">and</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #008000; color: black;">can</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">finish</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0e870e; color: black;">the</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">puzzle</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #deedde; color: black;">faster.</span><span style="background-color: #deedde; color: black;"> </span><span style="background-color: #0b850b; color: black;">That's</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #349a34; color: black;">how</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #e4f0e4; color: black;">machines</span><span style="background-color: #e4f0e4; color: black;"> </span><span style="background-color: #d7e9d7; color: black;">work</span><span style="background-color: #d7e9d7; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">too,</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #028102; color: black;">they</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">start</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #118911; color: black;">with</span><span style="background-color: #118911; color: black;"> </span><span style="background-color: #58ab58; color: black;">learning</span><span style="background-color: #58ab58; color: black;"> </span><span style="background-color: #028102; color: black;">puzzles</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #a3d0a3; color: black;">and</span><span style="background-color: #a3d0a3; color: black;"> </span><span style="background-color: #e0eedf; color: black;">every</span><span style="background-color: #e0eedf; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">time</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #088408; color: black;">they</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #dfeddf; color: black;">make</span><span style="background-color: #dfeddf; color: black;"> </span><span style="background-color: #a5d1a5; color: black;">a</span><span style="background-color: #a5d1a5; color: black;"> </span><span style="background-color: #a4d0a4; color: black;">mistake,</span><span style="background-color: #a4d0a4; color: black;"> </span><span style="background-color: #3c9d3c; color: black;">they</span><span style="background-color: #3c9d3c; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">remember</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">that</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #46a246; color: black;">and</span><span style="background-color: #46a246; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">try</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #008000; color: black;">not</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">to</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">make</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #0f870f; color: black;">the</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #028102; color: black;">same</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #0e870e; color: black;">mistake</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #018001; color: black;">again.</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">They</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #e6f1e6; color: black;">keep</span><span style="background-color: #e6f1e6; color: black;"> </span><span style="background-color: #65b265; color: black;">getting</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #168b16; color: black;">better</span><span style="background-color: #168b16; color: black;"> </span><span style="background-color: #8ac48a; color: black;">and</span><span style="background-color: #8ac48a; color: black;"> </span><span style="background-color: #008000; color: black;">better!</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3b9d3b; color: black;">They</span><span style="background-color: #3b9d3b; color: black;"> </span><span style="background-color: #79bc79; color: black;">can</span><span style="background-color: #79bc79; color: black;"> </span><span style="background-color: #008000; color: black;">use</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">what</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #078407; color: black;">they</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">have</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #a9d3a9; color: black;">learned</span><span style="background-color: #a9d3a9; color: black;"> </span><span style="background-color: #128912; color: black;">to</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #9acb9a; color: black;">help</span><span style="background-color: #9acb9a; color: black;"> </span><span style="background-color: #389b38; color: black;">us,</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #2c962c; color: black;">like</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">find</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">things</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">on</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #2b952b; color: black;">the</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #cde5cd; color: black;">internet</span><span style="background-color: #cde5cd; color: black;"> </span><span style="background-color: #b9dbb9; color: black;">or</span><span style="background-color: #b9dbb9; color: black;"> </span><span style="background-color: #008000; color: black;">even</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d3e7d3; color: black;">drive</span><span style="background-color: #d3e7d3; color: black;"> </span><span style="background-color: #008000; color: black;">cars.</span><span style="background-color: #008000; color: black;"> </span></pre>
</div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> []</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    probs.append(np.exp(res.logprob))</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>plt.hist(probs)<span class="op">;</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Probability"</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="temperature-1-default" class="level1">
<h1>Temperature : 1 ( Default)</h1>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #c4e0c4; color: black;">when</span><span style="background-color: #c4e0c4; color: black;"> </span><span style="background-color: #349934; color: black;">computers</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #50a750; color: black;">learn</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">things</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #67b267; color: black;">on</span><span style="background-color: #67b267; color: black;"> </span><span style="background-color: #008000; color: black;">their</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #57ab57; color: black;">just</span><span style="background-color: #57ab57; color: black;"> </span><span style="background-color: #81bf81; color: black;">like</span><span style="background-color: #81bf81; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #2f972f; color: black;">you</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #369b36; color: black;">learn</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #008000; color: black;">new</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">things.</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #008000; color: black;">Imagine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #afd6af; color: black;">you</span><span style="background-color: #afd6af; color: black;"> </span><span style="background-color: #83c083; color: black;">have</span><span style="background-color: #83c083; color: black;"> </span><span style="background-color: #128912; color: black;">a</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #058205; color: black;">special</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #018001; color: black;">toy</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">that</span><span style="background-color: #b3d8b3; color: black;"> </span><span style="background-color: #86c286; color: black;">can</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #078407; color: black;">remember</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">things</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">it</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #9fce9f; color: black;">sees</span><span style="background-color: #9fce9f; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">and</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">hears.</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #55a955; color: black;">When</span><span style="background-color: #55a955; color: black;"> </span><span style="background-color: #349a34; color: black;">you</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #058205; color: black;">show</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #a5d1a5; color: black;">it</span><span style="background-color: #a5d1a5; color: black;"> </span><span style="background-color: #068306; color: black;">a</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #0b850b; color: black;">picture</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #399c39; color: black;">of</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">a</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">cat</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #018001; color: black;">and</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0a850a; color: black;">tell</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #57ab57; color: black;">it</span><span style="background-color: #57ab57; color: black;"> </span><span style="background-color: #68b368; color: black;">"this</span><span style="background-color: #68b368; color: black;"> </span><span style="background-color: #4ba54b; color: black;">is</span><span style="background-color: #4ba54b; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #a6d2a6; color: black;">cat,"</span><span style="background-color: #a6d2a6; color: black;"> </span><span style="background-color: #56aa56; color: black;">the</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">remembers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">that.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3b9d3b; color: black;">Then,</span><span style="background-color: #3b9d3b; color: black;"> </span><span style="background-color: #a6d2a6; color: black;">when</span><span style="background-color: #a6d2a6; color: black;"> </span><span style="background-color: #008000; color: black;">you</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #399c39; color: black;">show</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #43a143; color: black;">it</span><span style="background-color: #43a143; color: black;"> </span><span style="background-color: #4ca54c; color: black;">another</span><span style="background-color: #4ca54c; color: black;"> </span><span style="background-color: #239123; color: black;">picture</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #0c860c; color: black;">of</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #188c18; color: black;">a</span><span style="background-color: #188c18; color: black;"> </span><span style="background-color: #0b850b; color: black;">cat</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #008000; color: black;">without</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">telling</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #86c286; color: black;">it</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #008000; color: black;">anything,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #2d962d; color: black;">the</span><span style="background-color: #2d962d; color: black;"> </span><span style="background-color: #018001; color: black;">toy</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #048204; color: black;">can</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #dcecdc; color: black;">recognize</span><span style="background-color: #dcecdc; color: black;"> </span><span style="background-color: #138913; color: black;">that</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #008000; color: black;">it's</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #85c185; color: black;">a</span><span style="background-color: #85c185; color: black;"> </span><span style="background-color: #008000; color: black;">cat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">too!</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #008000; color: black;">This</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #229122; color: black;">is</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">because</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #56aa56; color: black;">the</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">learned</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #138913; color: black;">from</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #96c996; color: black;">first</span><span style="background-color: #96c996; color: black;"> </span><span style="background-color: #7bbc7b; color: black;">picture.</span><span style="background-color: #7bbc7b; color: black;"> </span><span style="background-color: #7bbc7b;"> </span><br><span style="background-color: #7bbc7b;"> </span><br><span style="background-color: #dcecdc; color: black;">Machine</span><span style="background-color: #dcecdc; color: black;"> </span><span style="background-color: #018001; color: black;">learning</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #63b163; color: black;">is</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #128912; color: black;">like</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #008000; color: black;">that</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8fc68f; color: black;">toy,</span><span style="background-color: #8fc68f; color: black;"> </span><span style="background-color: #369b36; color: black;">but</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #038103; color: black;">with</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #018001; color: black;">big</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #028102; color: black;">computers.</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #62b062; color: black;">They</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #8dc58d; color: black;">can</span><span style="background-color: #8dc58d; color: black;"> </span><span style="background-color: #a3d0a3; color: black;">learn</span><span style="background-color: #a3d0a3; color: black;"> </span><span style="background-color: #008000; color: black;">from</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #4ca54c; color: black;">lots</span><span style="background-color: #4ca54c; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">of</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #75b975; color: black;">pictures,</span><span style="background-color: #75b975; color: black;"> </span><span style="background-color: #84c184; color: black;">sounds,</span><span style="background-color: #84c184; color: black;"> </span><span style="background-color: #209020; color: black;">and</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #028102; color: black;">information</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #c4e0c4; color: black;">to</span><span style="background-color: #c4e0c4; color: black;"> </span><span style="background-color: #c6e1c6; color: black;">understand</span><span style="background-color: #c6e1c6; color: black;"> </span><span style="background-color: #289328; color: black;">things</span><span style="background-color: #289328; color: black;"> </span><span style="background-color: #54a954; color: black;">all</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #66b266; color: black;">by</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #2b952b; color: black;">themselves.</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">The</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #279327; color: black;">more</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #0a850a; color: black;">they</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #56aa56; color: black;">learn,</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">the</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #5eae5e; color: black;">smarter</span><span style="background-color: #5eae5e; color: black;"> </span><span style="background-color: #048204; color: black;">they</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">become.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #42a042; color: black;">They</span><span style="background-color: #42a042; color: black;"> </span><span style="background-color: #b9dbb9; color: black;">can</span><span style="background-color: #b9dbb9; color: black;"> </span><span style="background-color: #4fa74f; color: black;">even</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">help</span><span style="background-color: #b4d8b4; color: black;"> </span><span style="background-color: #7ebe7e; color: black;">us</span><span style="background-color: #7ebe7e; color: black;"> </span><span style="background-color: #e0eee0; color: black;">do</span><span style="background-color: #e0eee0; color: black;"> </span><span style="background-color: #088408; color: black;">things</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #008000; color: black;">like</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">finding</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">answers</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #138913; color: black;">to</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #4ea64e; color: black;">questions,</span><span style="background-color: #4ea64e; color: black;"> </span><span style="background-color: #018001; color: black;">predicting</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #008000; color: black;">what</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">might</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #91c791; color: black;">happen</span><span style="background-color: #91c791; color: black;"> </span><span style="background-color: #018001; color: black;">next,</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #309730; color: black;">and</span><span style="background-color: #309730; color: black;"> </span><span style="background-color: #89c389; color: black;">making</span><span style="background-color: #89c389; color: black;"> </span><span style="background-color: #389b38; color: black;">decisions.</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #028102; color: black;">It's</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #9ccd9c; color: black;">like</span><span style="background-color: #9ccd9c; color: black;"> </span><span style="background-color: #389b38; color: black;">having</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #86c286; color: black;">a</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #7abc7a; color: black;">really</span><span style="background-color: #7abc7a; color: black;"> </span><span style="background-color: #2d962d; color: black;">smart</span><span style="background-color: #2d962d; color: black;"> </span><span style="background-color: #289428; color: black;">friend</span><span style="background-color: #289428; color: black;"> </span><span style="background-color: #b2d7b2; color: black;">who</span><span style="background-color: #b2d7b2; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">knows</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #178b17; color: black;">so</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #239123; color: black;">many</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #63b163; color: black;">things!</span><span style="background-color: #63b163; color: black;"> </span></pre>
</div>
</div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> []</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    probs.append(np.exp(res.logprob))</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>plt.hist(probs)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Probability"</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-26-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="openai-recommendations-for-temperature" class="level1">
<h1>OpenAI Recommendations for Temperature</h1>
<p><img src="llm_temperature_files/figure-html/a3c84903-1-image-3.png" class="img-fluid" alt="image-3.png"> - default is 1 - range: 0 to 2 <img src="llm_temperature_files/figure-html/a3c84903-2-image.png" class="img-fluid" alt="image.png"></p>
</section>
<section id="top-p-nucleus-sampling" class="level1">
<h1>Top-P (Nucleus Sampling)</h1>
<p>Top-p sampling, also known as nucleus sampling, is a technique used in large language models to control the diversity and quality of generated text. It involves selecting tokens from the most probable options, where the sum of their probabilities determines the selection.</p>
<p>The top p parameter acts as a filter, controlling how many different words or phrases the model considers when predicting the next word. The lower the value of <code>p</code>, the more deterministic the responses generated by the model are.</p>
<p>This method helps balance between diversity and high-probability words, ensuring the output is both diverse and contextually relevant.</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_p <span class="op">=</span> df[[<span class="st">'word'</span>, <span class="st">'base_probability'</span>]].copy()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>df_p[<span class="st">'cumulative_probability'</span>] <span class="op">=</span> df_p[<span class="st">'base_probability'</span>].cumsum()</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>df_p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">word</th>
<th data-quarto-table-cell-role="th">base_probability</th>
<th data-quarto-table-cell-role="th">cumulative_probability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>word0</td>
<td>0.19</td>
<td>0.19</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>word1</td>
<td>0.12</td>
<td>0.31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>word2</td>
<td>0.10</td>
<td>0.41</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>word3</td>
<td>0.09</td>
<td>0.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>word4</td>
<td>0.08</td>
<td>0.58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>word5</td>
<td>0.07</td>
<td>0.65</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>word6</td>
<td>0.06</td>
<td>0.71</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>word7</td>
<td>0.05</td>
<td>0.76</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>word8</td>
<td>0.04</td>
<td>0.80</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>word9</td>
<td>0.03</td>
<td>0.83</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>word10</td>
<td>0.03</td>
<td>0.86</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>word11</td>
<td>0.03</td>
<td>0.89</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>word12</td>
<td>0.02</td>
<td>0.91</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>word13</td>
<td>0.02</td>
<td>0.93</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>word14</td>
<td>0.02</td>
<td>0.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>word15</td>
<td>0.01</td>
<td>0.96</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>word16</td>
<td>0.01</td>
<td>0.97</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>word17</td>
<td>0.01</td>
<td>0.98</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>word18</td>
<td>0.01</td>
<td>0.99</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>word19</td>
<td>0.01</td>
<td>1.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_p.style.<span class="bu">apply</span>(<span class="kw">lambda</span> x: [<span class="st">'background: yellow'</span> <span class="cf">if</span> x.cumulative_probability <span class="op">&lt;=</span> <span class="fl">0.8</span> <span class="cf">else</span> <span class="st">''</span> <span class="cf">for</span> i <span class="kw">in</span> x], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<style type="text/css">
#T_b7719_row0_col0, #T_b7719_row0_col1, #T_b7719_row0_col2, #T_b7719_row1_col0, #T_b7719_row1_col1, #T_b7719_row1_col2, #T_b7719_row2_col0, #T_b7719_row2_col1, #T_b7719_row2_col2, #T_b7719_row3_col0, #T_b7719_row3_col1, #T_b7719_row3_col2, #T_b7719_row4_col0, #T_b7719_row4_col1, #T_b7719_row4_col2, #T_b7719_row5_col0, #T_b7719_row5_col1, #T_b7719_row5_col2, #T_b7719_row6_col0, #T_b7719_row6_col1, #T_b7719_row6_col2, #T_b7719_row7_col0, #T_b7719_row7_col1, #T_b7719_row7_col2, #T_b7719_row8_col0, #T_b7719_row8_col1, #T_b7719_row8_col2 {
  background: yellow;
}
</style>

<table id="T_b7719" data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th class="blank level0" data-quarto-table-cell-role="th">&nbsp;</th>
<th id="T_b7719_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">word</th>
<th id="T_b7719_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">base_probability</th>
<th id="T_b7719_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">cumulative_probability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_b7719_level0_row0" class="row_heading level0 row0" data-quarto-table-cell-role="th">0</td>
<td id="T_b7719_row0_col0" class="data row0 col0">word0</td>
<td id="T_b7719_row0_col1" class="data row0 col1">0.190000</td>
<td id="T_b7719_row0_col2" class="data row0 col2">0.190000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row1" class="row_heading level0 row1" data-quarto-table-cell-role="th">1</td>
<td id="T_b7719_row1_col0" class="data row1 col0">word1</td>
<td id="T_b7719_row1_col1" class="data row1 col1">0.120000</td>
<td id="T_b7719_row1_col2" class="data row1 col2">0.310000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row2" class="row_heading level0 row2" data-quarto-table-cell-role="th">2</td>
<td id="T_b7719_row2_col0" class="data row2 col0">word2</td>
<td id="T_b7719_row2_col1" class="data row2 col1">0.100000</td>
<td id="T_b7719_row2_col2" class="data row2 col2">0.410000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row3" class="row_heading level0 row3" data-quarto-table-cell-role="th">3</td>
<td id="T_b7719_row3_col0" class="data row3 col0">word3</td>
<td id="T_b7719_row3_col1" class="data row3 col1">0.090000</td>
<td id="T_b7719_row3_col2" class="data row3 col2">0.500000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row4" class="row_heading level0 row4" data-quarto-table-cell-role="th">4</td>
<td id="T_b7719_row4_col0" class="data row4 col0">word4</td>
<td id="T_b7719_row4_col1" class="data row4 col1">0.080000</td>
<td id="T_b7719_row4_col2" class="data row4 col2">0.580000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row5" class="row_heading level0 row5" data-quarto-table-cell-role="th">5</td>
<td id="T_b7719_row5_col0" class="data row5 col0">word5</td>
<td id="T_b7719_row5_col1" class="data row5 col1">0.070000</td>
<td id="T_b7719_row5_col2" class="data row5 col2">0.650000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row6" class="row_heading level0 row6" data-quarto-table-cell-role="th">6</td>
<td id="T_b7719_row6_col0" class="data row6 col0">word6</td>
<td id="T_b7719_row6_col1" class="data row6 col1">0.060000</td>
<td id="T_b7719_row6_col2" class="data row6 col2">0.710000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row7" class="row_heading level0 row7" data-quarto-table-cell-role="th">7</td>
<td id="T_b7719_row7_col0" class="data row7 col0">word7</td>
<td id="T_b7719_row7_col1" class="data row7 col1">0.050000</td>
<td id="T_b7719_row7_col2" class="data row7 col2">0.760000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row8" class="row_heading level0 row8" data-quarto-table-cell-role="th">8</td>
<td id="T_b7719_row8_col0" class="data row8 col0">word8</td>
<td id="T_b7719_row8_col1" class="data row8 col1">0.040000</td>
<td id="T_b7719_row8_col2" class="data row8 col2">0.800000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row9" class="row_heading level0 row9" data-quarto-table-cell-role="th">9</td>
<td id="T_b7719_row9_col0" class="data row9 col0">word9</td>
<td id="T_b7719_row9_col1" class="data row9 col1">0.030000</td>
<td id="T_b7719_row9_col2" class="data row9 col2">0.830000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row10" class="row_heading level0 row10" data-quarto-table-cell-role="th">10</td>
<td id="T_b7719_row10_col0" class="data row10 col0">word10</td>
<td id="T_b7719_row10_col1" class="data row10 col1">0.030000</td>
<td id="T_b7719_row10_col2" class="data row10 col2">0.860000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row11" class="row_heading level0 row11" data-quarto-table-cell-role="th">11</td>
<td id="T_b7719_row11_col0" class="data row11 col0">word11</td>
<td id="T_b7719_row11_col1" class="data row11 col1">0.030000</td>
<td id="T_b7719_row11_col2" class="data row11 col2">0.890000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row12" class="row_heading level0 row12" data-quarto-table-cell-role="th">12</td>
<td id="T_b7719_row12_col0" class="data row12 col0">word12</td>
<td id="T_b7719_row12_col1" class="data row12 col1">0.020000</td>
<td id="T_b7719_row12_col2" class="data row12 col2">0.910000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row13" class="row_heading level0 row13" data-quarto-table-cell-role="th">13</td>
<td id="T_b7719_row13_col0" class="data row13 col0">word13</td>
<td id="T_b7719_row13_col1" class="data row13 col1">0.020000</td>
<td id="T_b7719_row13_col2" class="data row13 col2">0.930000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row14" class="row_heading level0 row14" data-quarto-table-cell-role="th">14</td>
<td id="T_b7719_row14_col0" class="data row14 col0">word14</td>
<td id="T_b7719_row14_col1" class="data row14 col1">0.020000</td>
<td id="T_b7719_row14_col2" class="data row14 col2">0.950000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row15" class="row_heading level0 row15" data-quarto-table-cell-role="th">15</td>
<td id="T_b7719_row15_col0" class="data row15 col0">word15</td>
<td id="T_b7719_row15_col1" class="data row15 col1">0.010000</td>
<td id="T_b7719_row15_col2" class="data row15 col2">0.960000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row16" class="row_heading level0 row16" data-quarto-table-cell-role="th">16</td>
<td id="T_b7719_row16_col0" class="data row16 col0">word16</td>
<td id="T_b7719_row16_col1" class="data row16 col1">0.010000</td>
<td id="T_b7719_row16_col2" class="data row16 col2">0.970000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row17" class="row_heading level0 row17" data-quarto-table-cell-role="th">17</td>
<td id="T_b7719_row17_col0" class="data row17 col0">word17</td>
<td id="T_b7719_row17_col1" class="data row17 col1">0.010000</td>
<td id="T_b7719_row17_col2" class="data row17 col2">0.980000</td>
</tr>
<tr class="odd">
<td id="T_b7719_level0_row18" class="row_heading level0 row18" data-quarto-table-cell-role="th">18</td>
<td id="T_b7719_row18_col0" class="data row18 col0">word18</td>
<td id="T_b7719_row18_col1" class="data row18 col1">0.010000</td>
<td id="T_b7719_row18_col2" class="data row18 col2">0.990000</td>
</tr>
<tr class="even">
<td id="T_b7719_level0_row19" class="row_heading level0 row19" data-quarto-table-cell-role="th">19</td>
<td id="T_b7719_row19_col0" class="data row19 col0">word19</td>
<td id="T_b7719_row19_col1" class="data row19 col1">0.010000</td>
<td id="T_b7719_row19_col2" class="data row19 col2">1.000000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df_p[<span class="st">"base_probability"</span>].<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>1.0</code></pre>
</div>
</div>
<section id="high-top-p-includes-more-tokens-to-sample" class="level3">
<h3 class="anchored" data-anchor-id="high-top-p-includes-more-tokens-to-sample">High Top-P ( Includes more tokens to sample)</h3>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.choices[<span class="dv">0</span>].message.content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Machine learning is when computers learn things on their own, just like how you learn new things. Imagine you have a special toy that can remember things it sees and hears. When you show it a picture of a cat and tell it "this is a cat," the toy remembers that. Then, when you show it another picture of a cat without telling it anything, the toy can recognize that it's a cat too! This is because the toy learned from the first picture. 

Machine learning is like that toy, but with big computers. They can learn from lots of pictures, sounds, and information to understand things all by themselves. The more they learn, the smarter they become. They can even help us do things like finding answers to questions, predicting what might happen next, and making decisions. It's like having a really smart friend who knows so many things!</code></pre>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #c4e0c4; color: black;">when</span><span style="background-color: #c4e0c4; color: black;"> </span><span style="background-color: #349934; color: black;">computers</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #50a750; color: black;">learn</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">things</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #67b267; color: black;">on</span><span style="background-color: #67b267; color: black;"> </span><span style="background-color: #008000; color: black;">their</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #58ab58; color: black;">just</span><span style="background-color: #58ab58; color: black;"> </span><span style="background-color: #81bf81; color: black;">like</span><span style="background-color: #81bf81; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #339933; color: black;">you</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #369b36; color: black;">learn</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #008000; color: black;">new</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">things.</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #008000; color: black;">Imagine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #afd6af; color: black;">you</span><span style="background-color: #afd6af; color: black;"> </span><span style="background-color: #83c083; color: black;">have</span><span style="background-color: #83c083; color: black;"> </span><span style="background-color: #128912; color: black;">a</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #058205; color: black;">special</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #018001; color: black;">toy</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">that</span><span style="background-color: #b3d8b3; color: black;"> </span><span style="background-color: #86c286; color: black;">can</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #078407; color: black;">remember</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #209020; color: black;">things</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">it</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #9fce9f; color: black;">sees</span><span style="background-color: #9fce9f; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">and</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">hears.</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #55a955; color: black;">When</span><span style="background-color: #55a955; color: black;"> </span><span style="background-color: #359a35; color: black;">you</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #058205; color: black;">show</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #a5d1a5; color: black;">it</span><span style="background-color: #a5d1a5; color: black;"> </span><span style="background-color: #068306; color: black;">a</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #0b850b; color: black;">picture</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #389b38; color: black;">of</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">a</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">cat</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #018001; color: black;">and</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0a850a; color: black;">tell</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #57ab57; color: black;">it</span><span style="background-color: #57ab57; color: black;"> </span><span style="background-color: #67b267; color: black;">"this</span><span style="background-color: #67b267; color: black;"> </span><span style="background-color: #4ba54b; color: black;">is</span><span style="background-color: #4ba54b; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #a6d2a6; color: black;">cat,"</span><span style="background-color: #a6d2a6; color: black;"> </span><span style="background-color: #56aa56; color: black;">the</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">remembers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">that.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">Then,</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #a7d2a7; color: black;">when</span><span style="background-color: #a7d2a7; color: black;"> </span><span style="background-color: #008000; color: black;">you</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #399c39; color: black;">show</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #42a042; color: black;">it</span><span style="background-color: #42a042; color: black;"> </span><span style="background-color: #4ba54b; color: black;">another</span><span style="background-color: #4ba54b; color: black;"> </span><span style="background-color: #229122; color: black;">picture</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #0c860c; color: black;">of</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #188c18; color: black;">a</span><span style="background-color: #188c18; color: black;"> </span><span style="background-color: #0a850a; color: black;">cat</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #008000; color: black;">without</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">telling</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #85c185; color: black;">it</span><span style="background-color: #85c185; color: black;"> </span><span style="background-color: #008000; color: black;">anything,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #2d962d; color: black;">the</span><span style="background-color: #2d962d; color: black;"> </span><span style="background-color: #018001; color: black;">toy</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #048204; color: black;">can</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #dcecdc; color: black;">recognize</span><span style="background-color: #dcecdc; color: black;"> </span><span style="background-color: #128912; color: black;">that</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #008000; color: black;">it's</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #86c286; color: black;">a</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #008000; color: black;">cat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">too!</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #008000; color: black;">This</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #239123; color: black;">is</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">because</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #54a954; color: black;">the</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3e9e3e; color: black;">learned</span><span style="background-color: #3e9e3e; color: black;"> </span><span style="background-color: #118911; color: black;">from</span><span style="background-color: #118911; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #98ca98; color: black;">first</span><span style="background-color: #98ca98; color: black;"> </span><span style="background-color: #78bb78; color: black;">picture.</span><span style="background-color: #78bb78; color: black;"> </span><span style="background-color: #78bb78;"> </span><br><span style="background-color: #78bb78;"> </span><br><span style="background-color: #dcecdc; color: black;">Machine</span><span style="background-color: #dcecdc; color: black;"> </span><span style="background-color: #018001; color: black;">learning</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #66b266; color: black;">is</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #128912; color: black;">like</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #008000; color: black;">that</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8fc68f; color: black;">toy,</span><span style="background-color: #8fc68f; color: black;"> </span><span style="background-color: #369b36; color: black;">but</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #038103; color: black;">with</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #018001; color: black;">big</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #028102; color: black;">computers.</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #56aa56; color: black;">They</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #90c790; color: black;">can</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #a5d1a5; color: black;">learn</span><span style="background-color: #a5d1a5; color: black;"> </span><span style="background-color: #008000; color: black;">from</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #4ba54b; color: black;">lots</span><span style="background-color: #4ba54b; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">of</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #78bb78; color: black;">pictures,</span><span style="background-color: #78bb78; color: black;"> </span><span style="background-color: #84c184; color: black;">sounds,</span><span style="background-color: #84c184; color: black;"> </span><span style="background-color: #209020; color: black;">and</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #028102; color: black;">information</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #c3e0c3; color: black;">to</span><span style="background-color: #c3e0c3; color: black;"> </span><span style="background-color: #c6e1c6; color: black;">understand</span><span style="background-color: #c6e1c6; color: black;"> </span><span style="background-color: #279327; color: black;">things</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #53a953; color: black;">all</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #62b062; color: black;">by</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #2b952b; color: black;">themselves.</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">The</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #239123; color: black;">more</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #0a850a; color: black;">they</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #55a955; color: black;">learn,</span><span style="background-color: #55a955; color: black;"> </span><span style="background-color: #209020; color: black;">the</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #5cad5c; color: black;">smarter</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #048204; color: black;">they</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">become.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">They</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #b5d9b5; color: black;">can</span><span style="background-color: #b5d9b5; color: black;"> </span><span style="background-color: #4fa74f; color: black;">even</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">help</span><span style="background-color: #b3d8b3; color: black;"> </span><span style="background-color: #7fbe7f; color: black;">us</span><span style="background-color: #7fbe7f; color: black;"> </span><span style="background-color: #e0eee0; color: black;">do</span><span style="background-color: #e0eee0; color: black;"> </span><span style="background-color: #088408; color: black;">things</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #008000; color: black;">like</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">finding</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">answers</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #148a14; color: black;">to</span><span style="background-color: #148a14; color: black;"> </span><span style="background-color: #4da64d; color: black;">questions,</span><span style="background-color: #4da64d; color: black;"> </span><span style="background-color: #018001; color: black;">predicting</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #008000; color: black;">what</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">might</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #92c892; color: black;">happen</span><span style="background-color: #92c892; color: black;"> </span><span style="background-color: #018001; color: black;">next,</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #319831; color: black;">and</span><span style="background-color: #319831; color: black;"> </span><span style="background-color: #87c287; color: black;">making</span><span style="background-color: #87c287; color: black;"> </span><span style="background-color: #359a35; color: black;">decisions.</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #028102; color: black;">It's</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #9ece9e; color: black;">like</span><span style="background-color: #9ece9e; color: black;"> </span><span style="background-color: #379b37; color: black;">having</span><span style="background-color: #379b37; color: black;"> </span><span style="background-color: #86c286; color: black;">a</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #7abc7a; color: black;">really</span><span style="background-color: #7abc7a; color: black;"> </span><span style="background-color: #2c962c; color: black;">smart</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #289428; color: black;">friend</span><span style="background-color: #289428; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">who</span><span style="background-color: #b3d8b3; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">knows</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #178b17; color: black;">so</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #229122; color: black;">many</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #61af61; color: black;">things!</span><span style="background-color: #61af61; color: black;"> </span></pre>
</div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>response.choices[<span class="dv">0</span>].logprobs.content[:<span class="dv">5</span>] <span class="co"># first 5 tokens</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>[ChatCompletionTokenLogprob(token='Machine', bytes=[77, 97, 99, 104, 105, 110, 101], logprob=-0.0015492603, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' learning', bytes=[32, 108, 101, 97, 114, 110, 105, 110, 103], logprob=-0.0005857991, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' is', bytes=[32, 105, 115], logprob=-0.00047642877, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' when', bytes=[32, 119, 104, 101, 110], logprob=-1.7854097, top_logprobs=[]),
 ChatCompletionTokenLogprob(token=' computers', bytes=[32, 99, 111, 109, 112, 117, 116, 101, 114, 115], logprob=-0.25018257, top_logprobs=[])]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> []</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    probs.append(np.exp(res.logprob))</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>plt.hist(probs)<span class="op">;</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Probability"</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-34-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="low-top-p-more-deterministic" class="level1">
<h1>Low Top-P ( More Deterministic)</h1>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">like</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #9acb9a; color: black;">having</span><span style="background-color: #9acb9a; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #91c791; color: black;">super</span><span style="background-color: #91c791; color: black;"> </span><span style="background-color: #0f870f; color: black;">smart</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #62b062; color: black;">robot</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">friend</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #72b872; color: black;">that</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #2a952a; color: black;">can</span><span style="background-color: #2a952a; color: black;"> </span><span style="background-color: #018001; color: black;">learn</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #61af61; color: black;">things</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #65b265; color: black;">on</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #198c19; color: black;">Just</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #5cad5c; color: black;">like</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8cc58c; color: black;">you</span><span style="background-color: #8cc58c; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">learn</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">new</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">things</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #038103; color: black;">by</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #289328; color: black;">practicing</span><span style="background-color: #289328; color: black;"> </span><span style="background-color: #53a953; color: black;">and</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #47a347; color: black;">trying</span><span style="background-color: #47a347; color: black;"> </span><span style="background-color: #40a040; color: black;">different</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #40a040; color: black;">things,</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #42a042; color: black;">machine</span><span style="background-color: #42a042; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #359a35; color: black;">is</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #008000; color: black;">when</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #70b770; color: black;">a</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #349a34; color: black;">computer</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">program</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">learns</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #48a348; color: black;">from</span><span style="background-color: #48a348; color: black;"> </span><span style="background-color: #4ba54a; color: black;">lots</span><span style="background-color: #4ba54a; color: black;"> </span><span style="background-color: #97ca97; color: black;">of</span><span style="background-color: #97ca97; color: black;"> </span><span style="background-color: #359a35; color: black;">examples</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #2b952b; color: black;">and</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #40a040; color: black;">gets</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">better</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">at</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #0d860d; color: black;">doing</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #0c860c; color: black;">a</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">task.</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #6eb66e; color: black;">For</span><span style="background-color: #6eb66e; color: black;"> </span><span style="background-color: #349934; color: black;">example,</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #71b771; color: black;">if</span><span style="background-color: #71b771; color: black;"> </span><span style="background-color: #84c084; color: black;">you</span><span style="background-color: #84c084; color: black;"> </span><span style="background-color: #008000; color: black;">show</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #50a750; color: black;">robot</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">friend</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #2d962d; color: black;">lots</span><span style="background-color: #2d962d; color: black;"> </span><span style="background-color: #339933; color: black;">of</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #90c790; color: black;">pictures</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #148a14; color: black;">of</span><span style="background-color: #148a14; color: black;"> </span><span style="background-color: #399c39; color: black;">cats</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">dogs,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #50a750; color: black;">can</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #108810; color: black;">learn</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #0f870f; color: black;">to</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #349a34; color: black;">tell</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #018001; color: black;">the</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">difference</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #078407; color: black;">between</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #088408; color: black;">them.</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #0b850b; color: black;">It's</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #289328; color: black;">like</span><span style="background-color: #289328; color: black;"> </span><span style="background-color: #008000; color: black;">magic,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">but</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #088408; color: black;">really</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #6ab46a; color: black;">it's</span><span style="background-color: #6ab46a; color: black;"> </span><span style="background-color: #66b266; color: black;">just</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #6ab46a; color: black;">the</span><span style="background-color: #6ab46a; color: black;"> </span><span style="background-color: #4da64d; color: black;">computer</span><span style="background-color: #4da64d; color: black;"> </span><span style="background-color: #90c790; color: black;">using</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #6cb56c; color: black;">math</span><span style="background-color: #6cb56c; color: black;"> </span><span style="background-color: #2f972f; color: black;">and</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #5bad5b; color: black;">patterns</span><span style="background-color: #5bad5b; color: black;"> </span><span style="background-color: #088408; color: black;">to</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #018001; color: black;">figure</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0e870e; color: black;">things</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #7fbe7f; color: black;">out.</span><span style="background-color: #7fbe7f; color: black;"> </span></pre>
</div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> []</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> res <span class="kw">in</span> response.choices[<span class="dv">0</span>].logprobs.content:</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    probs.append(np.exp(res.logprob))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>plt.hist(probs)<span class="op">;</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Probability"</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="llm_temperature_files/figure-html/cell-37-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="openai-recommendations-for-top-p" class="level1">
<h1>OpenAI Recommendations for Top-P</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/9b73a33a-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/1961e932-1-image-2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image-2.png</figcaption>
</figure>
</div>
</section>
<section id="interactions-between-temperature-and-top-p" class="level1">
<h1>Interactions between Temperature and Top-P</h1>
<p>Lets experiment the interactions between temperature and top-p</p>
<ul>
<li>High Temperature and High Top-P</li>
<li>High Temperature and Low Top-P</li>
<li>Low Temperature and High Top-P</li>
<li>Low Temperature and Low Top-P</li>
</ul>
<section id="high-temperature-high-top-p" class="level3">
<h3 class="anchored" data-anchor-id="high-temperature-high-top-p">High Temperature, High Top-P</h3>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="fl">1.6</span>,</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #c3e0c3; color: black;">when</span><span style="background-color: #c3e0c3; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">computer</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #068306; color: black;">programs</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #a1cfa1; color: black;">can</span><span style="background-color: #a1cfa1; color: black;"> </span><span style="background-color: #058205; color: black;">learn</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #57ab57; color: black;">and</span><span style="background-color: #57ab57; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">improve</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #95c995; color: black;">by</span><span style="background-color: #95c995; color: black;"> </span><span style="background-color: #008000; color: black;">themselves.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000;"> </span><br><span style="background-color: #008000;"> </span><br><span style="background-color: #a1cfa1; color: black;">Imagine</span><span style="background-color: #a1cfa1; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">you</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #209020; color: black;">have</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #048204; color: black;">a</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #038103; color: black;">puzzle</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #008000; color: black;">toy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">with</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">pictures</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #7abc7a; color: black;">on</span><span style="background-color: #7abc7a; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">it.</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #aad3aa; color: black;">At</span><span style="background-color: #aad3aa; color: black;"> </span><span style="background-color: #0b850b; color: black;">first</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #389b38; color: black;">it's</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #359a35; color: black;">all</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #018001; color: black;">mixed</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">up</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #369b36; color: black;">and</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #6db66d; color: black;">you</span><span style="background-color: #6db66d; color: black;"> </span><span style="background-color: #198c19; color: black;">don't</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #008000; color: black;">know</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #52a852; color: black;">how</span><span style="background-color: #52a852; color: black;"> </span><span style="background-color: #068306; color: black;">to</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #239123; color: black;">make</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">right.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #9bcc9b; color: black;">When</span><span style="background-color: #9bcc9b; color: black;"> </span><span style="background-color: #058205; color: black;">you</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">start</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">solving</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #82c082; color: black;">it</span><span style="background-color: #82c082; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">few</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #018001; color: black;">times,</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #a3d0a3; color: black;">you</span><span style="background-color: #a3d0a3; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">start</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #2c962c; color: black;">getting</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">better</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #339933; color: black;">and</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #008000; color: black;">can</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">finish</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0f870f; color: black;">the</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #b2d7b1; color: black;">puzzle</span><span style="background-color: #b2d7b1; color: black;"> </span><span style="background-color: #ddecdd; color: black;">faster.</span><span style="background-color: #ddecdd; color: black;"> </span><span style="background-color: #ddecdd;"> </span><br><span style="background-color: #ddecdd;"> </span><br><span style="background-color: #0a850a; color: black;">Machine</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #349a34; color: black;">learning</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #e2efe2; color: black;">works</span><span style="background-color: #e2efe2; color: black;"> </span><span style="background-color: #d6e9d6; color: black;">a</span><span style="background-color: #d6e9d6; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">bit</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #028102; color: black;">like</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">that.</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #118911; color: black;">It's</span><span style="background-color: #118911; color: black;"> </span><span style="background-color: #cbe4cb; color: black;">like</span><span style="background-color: #cbe4cb; color: black;"> </span><span style="background-color: #47a347; color: black;">a</span><span style="background-color: #47a347; color: black;"> </span><span style="background-color: #008000; color: black;">really</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d9ead9; color: black;">smart</span><span style="background-color: #d9ead9; color: black;"> </span><span style="background-color: #d7e9d7; color: black;">program</span><span style="background-color: #d7e9d7; color: black;"> </span><span style="background-color: #138913; color: black;">that</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #008000; color: black;">learns</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #048204; color: black;">from</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #309730; color: black;">doing</span><span style="background-color: #309730; color: black;"> </span><span style="background-color: #cee5ce; color: black;">things</span><span style="background-color: #cee5ce; color: black;"> </span><span style="background-color: #229122; color: black;">over</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #74b974; color: black;">and</span><span style="background-color: #74b974; color: black;"> </span><span style="background-color: #94c994; color: black;">over</span><span style="background-color: #94c994; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">again.</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #088408; color: black;">It</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">gets</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #008000; color: black;">more</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #deedde; color: black;">and</span><span style="background-color: #deedde; color: black;"> </span><span style="background-color: #309730; color: black;">more</span><span style="background-color: #309730; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">powerful,</span><span style="background-color: #b4d8b4; color: black;"> </span><span style="background-color: #259225; color: black;">by</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #2a952a; color: black;">learning</span><span style="background-color: #2a952a; color: black;"> </span><span style="background-color: #008000; color: black;">from</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #239123; color: black;">own</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">experiences!</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">So</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">just</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">like</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #178b17; color: black;">you,</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">computer</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #e3efe3; color: black;">program</span><span style="background-color: #e3efe3; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">gets</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #badbba; color: black;">better</span><span style="background-color: #badbba; color: black;"> </span><span style="background-color: #178b17; color: black;">and</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #188c18; color: black;">better</span><span style="background-color: #188c18; color: black;"> </span><span style="background-color: #add5ad; color: black;">at</span><span style="background-color: #add5ad; color: black;"> </span><span style="background-color: #c2dfc2; color: black;">solving</span><span style="background-color: #c2dfc2; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">the</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">problems</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #d1e6d1; color: black;">it</span><span style="background-color: #d1e6d1; color: black;"> </span><span style="background-color: #008000; color: black;">faces.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">Isnt</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #dbebdb; color: black;">that</span><span style="background-color: #dbebdb; color: black;"> </span><span style="background-color: #84c184; color: black;">amazing?!</span><span style="background-color: #84c184; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="high-temperature-low-top-p" class="level3">
<h3 class="anchored" data-anchor-id="high-temperature-low-top-p">High Temperature, Low Top-P</h3>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">like</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #9bcc9b; color: black;">having</span><span style="background-color: #9bcc9b; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #91c791; color: black;">super</span><span style="background-color: #91c791; color: black;"> </span><span style="background-color: #108810; color: black;">smart</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #63b163; color: black;">robot</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">friend</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #72b872; color: black;">that</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #2a952a; color: black;">can</span><span style="background-color: #2a952a; color: black;"> </span><span style="background-color: #018001; color: black;">learn</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #61af61; color: black;">things</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #65b265; color: black;">on</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #198c19; color: black;">Just</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #5cad5c; color: black;">like</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8dc58d; color: black;">you</span><span style="background-color: #8dc58d; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">learn</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">new</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">things</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #038103; color: black;">by</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #279327; color: black;">practicing</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #53a953; color: black;">and</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #46a246; color: black;">trying</span><span style="background-color: #46a246; color: black;"> </span><span style="background-color: #40a040; color: black;">different</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #41a041; color: black;">things,</span><span style="background-color: #41a041; color: black;"> </span><span style="background-color: #43a143; color: black;">machine</span><span style="background-color: #43a143; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #359a35; color: black;">is</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #008000; color: black;">when</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #70b770; color: black;">a</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #359a35; color: black;">computer</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">program</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">learns</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #48a348; color: black;">from</span><span style="background-color: #48a348; color: black;"> </span><span style="background-color: #4ba54a; color: black;">lots</span><span style="background-color: #4ba54a; color: black;"> </span><span style="background-color: #98ca98; color: black;">of</span><span style="background-color: #98ca98; color: black;"> </span><span style="background-color: #359a35; color: black;">examples</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #2b952b; color: black;">and</span><span style="background-color: #2b952b; color: black;"> </span><span style="background-color: #3e9e3e; color: black;">gets</span><span style="background-color: #3e9e3e; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">better</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">at</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #0d860d; color: black;">doing</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #0b850b; color: black;">a</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">task.</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #6db56d; color: black;">For</span><span style="background-color: #6db56d; color: black;"> </span><span style="background-color: #349934; color: black;">example,</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #70b770; color: black;">if</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #84c084; color: black;">you</span><span style="background-color: #84c084; color: black;"> </span><span style="background-color: #008000; color: black;">show</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #4fa74f; color: black;">robot</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">friend</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #2c962c; color: black;">lots</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #339933; color: black;">of</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #84c184; color: black;">pictures</span><span style="background-color: #84c184; color: black;"> </span><span style="background-color: #168b16; color: black;">of</span><span style="background-color: #168b16; color: black;"> </span><span style="background-color: #389b38; color: black;">cats</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">dogs,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #51a851; color: black;">can</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #118811; color: black;">learn</span><span style="background-color: #118811; color: black;"> </span><span style="background-color: #108810; color: black;">to</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #349a34; color: black;">tell</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #018001; color: black;">the</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">difference</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #078407; color: black;">between</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #088408; color: black;">them.</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #098509; color: black;">It's</span><span style="background-color: #098509; color: black;"> </span><span style="background-color: #259225; color: black;">like</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #008000; color: black;">magic,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">but</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #088408; color: black;">really</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #66b266; color: black;">it's</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #65b265; color: black;">just</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #72b872; color: black;">the</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #49a449; color: black;">computer</span><span style="background-color: #49a449; color: black;"> </span><span style="background-color: #90c790; color: black;">using</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #70b770; color: black;">math</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #2f972f; color: black;">and</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #62b062; color: black;">patterns</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #078407; color: black;">to</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #018001; color: black;">figure</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0a850a; color: black;">things</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #7abc7a; color: black;">out.</span><span style="background-color: #7abc7a; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="low-temperature-high-top-p" class="level3">
<h3 class="anchored" data-anchor-id="low-temperature-high-top-p">Low Temperature, High Top-P</h3>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">like</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #98ca98; color: black;">having</span><span style="background-color: #98ca98; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #90c790; color: black;">super</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #108810; color: black;">smart</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #63b163; color: black;">robot</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">friend</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #6eb66e; color: black;">that</span><span style="background-color: #6eb66e; color: black;"> </span><span style="background-color: #2e972e; color: black;">can</span><span style="background-color: #2e972e; color: black;"> </span><span style="background-color: #018001; color: black;">learn</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #5dae5d; color: black;">things</span><span style="background-color: #5dae5d; color: black;"> </span><span style="background-color: #66b266; color: black;">on</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #198c19; color: black;">It's</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #bbdcbb; color: black;">like</span><span style="background-color: #bbdcbb; color: black;"> </span><span style="background-color: #59ac59; color: black;">when</span><span style="background-color: #59ac59; color: black;"> </span><span style="background-color: #7bbc7b; color: black;">you</span><span style="background-color: #7bbc7b; color: black;"> </span><span style="background-color: #319831; color: black;">play</span><span style="background-color: #319831; color: black;"> </span><span style="background-color: #018001; color: black;">a</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #75b975; color: black;">game</span><span style="background-color: #75b975; color: black;"> </span><span style="background-color: #44a144; color: black;">and</span><span style="background-color: #44a144; color: black;"> </span><span style="background-color: #209020; color: black;">get</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #3e9e3e; color: black;">better</span><span style="background-color: #3e9e3e; color: black;"> </span><span style="background-color: #89c389; color: black;">each</span><span style="background-color: #89c389; color: black;"> </span><span style="background-color: #018001; color: black;">time</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #6cb56c; color: black;">because</span><span style="background-color: #6cb56c; color: black;"> </span><span style="background-color: #008000; color: black;">you</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #68b368; color: black;">remember</span><span style="background-color: #68b368; color: black;"> </span><span style="background-color: #008000; color: black;">what</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #0c860c; color: black;">you</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #0a850a; color: black;">did</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #88c388; color: black;">before.</span><span style="background-color: #88c388; color: black;"> </span><span style="background-color: #018001; color: black;">But</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #178b17; color: black;">instead</span><span style="background-color: #178b17; color: black;"> </span><span style="background-color: #048204; color: black;">of</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #57ab57; color: black;">a</span><span style="background-color: #57ab57; color: black;"> </span><span style="background-color: #389b38; color: black;">game,</span><span style="background-color: #389b38; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #319831; color: black;">robot</span><span style="background-color: #319831; color: black;"> </span><span style="background-color: #0b850b; color: black;">friend</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #008000; color: black;">learns</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #229122; color: black;">from</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #048204; color: black;">lots</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #118811; color: black;">of</span><span style="background-color: #118811; color: black;"> </span><span style="background-color: #269226; color: black;">information</span><span style="background-color: #269226; color: black;"> </span><span style="background-color: #0a850a; color: black;">and</span><span style="background-color: #0a850a; color: black;"> </span><span style="background-color: #259225; color: black;">figures</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #61b061; color: black;">out</span><span style="background-color: #61b061; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">patterns</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #3c9d3c; color: black;">and</span><span style="background-color: #3c9d3c; color: black;"> </span><span style="background-color: #86c286; color: black;">rules.</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #058205; color: black;">Then</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #48a348; color: black;">it</span><span style="background-color: #48a348; color: black;"> </span><span style="background-color: #91c791; color: black;">can</span><span style="background-color: #91c791; color: black;"> </span><span style="background-color: #078407; color: black;">use</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #5eae5e; color: black;">what</span><span style="background-color: #5eae5e; color: black;"> </span><span style="background-color: #6fb76f; color: black;">it</span><span style="background-color: #6fb76f; color: black;"> </span><span style="background-color: #77ba77; color: black;">learned</span><span style="background-color: #77ba77; color: black;"> </span><span style="background-color: #349934; color: black;">to</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #068306; color: black;">make</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #67b267; color: black;">predictions</span><span style="background-color: #67b267; color: black;"> </span><span style="background-color: #008000; color: black;">or</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #068306; color: black;">do</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #008000; color: black;">tasks</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #95c995; color: black;">without</span><span style="background-color: #95c995; color: black;"> </span><span style="background-color: #3e9e3e; color: black;">being</span><span style="background-color: #3e9e3e; color: black;"> </span><span style="background-color: #148a14; color: black;">told</span><span style="background-color: #148a14; color: black;"> </span><span style="background-color: #83c083; color: black;">exactly</span><span style="background-color: #83c083; color: black;"> </span><span style="background-color: #74b974; color: black;">what</span><span style="background-color: #74b974; color: black;"> </span><span style="background-color: #3e9e3e; color: black;">to</span><span style="background-color: #3e9e3e; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">do.</span><span style="background-color: #3a9c3a; color: black;"> </span><span style="background-color: #028102; color: black;">It's</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #289428; color: black;">like</span><span style="background-color: #289428; color: black;"> </span><span style="background-color: #018001; color: black;">having</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">really</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #259225; color: black;">clever</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #279327; color: black;">friend</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #018001; color: black;">who</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #61af61; color: black;">can</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #128912; color: black;">help</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #018001; color: black;">you</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #4ca54c; color: black;">with</span><span style="background-color: #4ca54c; color: black;"> </span><span style="background-color: #4ba54b; color: black;">all</span><span style="background-color: #4ba54b; color: black;"> </span><span style="background-color: #5cad5c; color: black;">sorts</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #399c39; color: black;">of</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #118911; color: black;">things!</span><span style="background-color: #118911; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="low-temperature-low-top-p" class="level3">
<h3 class="anchored" data-anchor-id="low-temperature-low-top-p">Low Temperature, Low Top-P</h3>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  top_p<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">Machine</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">is</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">like</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #98ca98; color: black;">having</span><span style="background-color: #98ca98; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #90c790; color: black;">super</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #108810; color: black;">smart</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #63b163; color: black;">robot</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">friend</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #6eb66e; color: black;">that</span><span style="background-color: #6eb66e; color: black;"> </span><span style="background-color: #2e972e; color: black;">can</span><span style="background-color: #2e972e; color: black;"> </span><span style="background-color: #018001; color: black;">learn</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #5dae5d; color: black;">things</span><span style="background-color: #5dae5d; color: black;"> </span><span style="background-color: #66b266; color: black;">on</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #008000; color: black;">its</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">own.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #198c19; color: black;">Just</span><span style="background-color: #198c19; color: black;"> </span><span style="background-color: #5bad5b; color: black;">like</span><span style="background-color: #5bad5b; color: black;"> </span><span style="background-color: #008000; color: black;">how</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #8fc68f; color: black;">you</span><span style="background-color: #8fc68f; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">learn</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">new</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #399c39; color: black;">things</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #038103; color: black;">by</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #279327; color: black;">practicing</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #58ab58; color: black;">and</span><span style="background-color: #58ab58; color: black;"> </span><span style="background-color: #46a246; color: black;">trying</span><span style="background-color: #46a246; color: black;"> </span><span style="background-color: #40a040; color: black;">different</span><span style="background-color: #40a040; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">things,</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #42a042; color: black;">machine</span><span style="background-color: #42a042; color: black;"> </span><span style="background-color: #008000; color: black;">learning</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #369b36; color: black;">is</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #008000; color: black;">when</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #70b770; color: black;">a</span><span style="background-color: #70b770; color: black;"> </span><span style="background-color: #349a34; color: black;">computer</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">program</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #028102; color: black;">learns</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #47a347; color: black;">from</span><span style="background-color: #47a347; color: black;"> </span><span style="background-color: #4ba54a; color: black;">lots</span><span style="background-color: #4ba54a; color: black;"> </span><span style="background-color: #99cb99; color: black;">of</span><span style="background-color: #99cb99; color: black;"> </span><span style="background-color: #359a35; color: black;">examples</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #279327; color: black;">and</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #41a041; color: black;">gets</span><span style="background-color: #41a041; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">better</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #1e8f1e; color: black;">at</span><span style="background-color: #1e8f1e; color: black;"> </span><span style="background-color: #0d860d; color: black;">doing</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #0c860c; color: black;">a</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">task.</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #6db66d; color: black;">For</span><span style="background-color: #6db66d; color: black;"> </span><span style="background-color: #349934; color: black;">example,</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #73b873; color: black;">if</span><span style="background-color: #73b873; color: black;"> </span><span style="background-color: #8ac48a; color: black;">you</span><span style="background-color: #8ac48a; color: black;"> </span><span style="background-color: #008000; color: black;">show</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #4fa74f; color: black;">robot</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">friend</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #2e972e; color: black;">lots</span><span style="background-color: #2e972e; color: black;"> </span><span style="background-color: #339933; color: black;">of</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #84c184; color: black;">pictures</span><span style="background-color: #84c184; color: black;"> </span><span style="background-color: #168b16; color: black;">of</span><span style="background-color: #168b16; color: black;"> </span><span style="background-color: #379b37; color: black;">cats</span><span style="background-color: #379b37; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">dogs,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">it</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #51a851; color: black;">can</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #108810; color: black;">learn</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #108810; color: black;">to</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #359a35; color: black;">tell</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #018001; color: black;">the</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">difference</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #078407; color: black;">between</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #088408; color: black;">them.</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #098509; color: black;">It's</span><span style="background-color: #098509; color: black;"> </span><span style="background-color: #249224; color: black;">like</span><span style="background-color: #249224; color: black;"> </span><span style="background-color: #008000; color: black;">magic,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">but</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #088408; color: black;">really</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #68b368; color: black;">it's</span><span style="background-color: #68b368; color: black;"> </span><span style="background-color: #66b266; color: black;">just</span><span style="background-color: #66b266; color: black;"> </span><span style="background-color: #78bb78; color: black;">a</span><span style="background-color: #78bb78; color: black;"> </span><span style="background-color: #49a449; color: black;">computer</span><span style="background-color: #49a449; color: black;"> </span><span style="background-color: #93c893; color: black;">using</span><span style="background-color: #93c893; color: black;"> </span><span style="background-color: #72b872; color: black;">math</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #2c962c; color: black;">to</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #63b163; color: black;">learn</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #078407; color: black;">and</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #018001; color: black;">make</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #0a850a; color: black;">decisions.</span><span style="background-color: #0a850a; color: black;"> </span></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/bf709686-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
</section>
</section>
<section id="frequency-penalty" class="level1">
<h1>Frequency Penalty</h1>
<p>Frequency Penalty is used to reduce the likelihood of a token being selected again if it has already appeared in the generated text.</p>
<p>It ranges from -2.0 to 2.0, where positive values discourage repetition by penalizing tokens that occur frequently, and negative values can increase the likelihood of repetition. This helps control the diversity of the generated content and prevent verbatim repetition.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/1e6c4aa1-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
<p>In the above example, we can see recommendations such as National Park appeared twice in the generated text. We can use frequency penalty to reduce the likelihood of a token being selected again if it has already appeared in the generated text.</p>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>question <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="st">Write 10 slogans for ChatGPT</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">ChatGPT!"</span><span style="background-color: #b3d8b3; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #63b163; color: black;">"ChatGPT:</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #53a953; color: black;">with</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #028102; color: black;">ChatGPT</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #008000; color: black;">-</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">Chat</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #50a750; color: black;">smarter,</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">not</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8dc58d; color: black;">harder!"</span><span style="background-color: #8dc58d; color: black;"> </span><br><span style="background-color: #008000; color: black;">4.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349a34; color: black;">"Break</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #5aac5a; color: black;">the</span><span style="background-color: #5aac5a; color: black;"> </span><span style="background-color: #008000; color: black;">Ice</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">-</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #daebda; color: black;">The</span><span style="background-color: #daebda; color: black;"> </span><span style="background-color: #279327; color: black;">Ultimate</span><span style="background-color: #279327; color: black;"> </span><span style="background-color: #b5d9b5; color: black;">Conversation</span><span style="background-color: #b5d9b5; color: black;"> </span><span style="background-color: #068306; color: black;">Starter!"</span><span style="background-color: #068306; color: black;"> </span><br><span style="background-color: #008000; color: black;">5.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #a3d0a3; color: black;">With</span><span style="background-color: #a3d0a3; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">every</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">chat,</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #068306; color: black;">we'll</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #158a15; color: black;">wow</span><span style="background-color: #158a15; color: black;"> </span><span style="background-color: #008000; color: black;">you!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">6.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Making</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Magical!"</span><span style="background-color: #ebf3eb; color: black;"> </span><br><span style="background-color: #229122; color: black;">7.</span><span style="background-color: #229122; color: black;"> </span><span style="background-color: #cfe5cf; color: black;">"Experience</span><span style="background-color: #cfe5cf; color: black;"> </span><span style="background-color: #209020; color: black;">Smarter</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #088408; color: black;">-</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #cde5cd; color: black;">Your</span><span style="background-color: #cde5cd; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">virtual</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #45a245; color: black;">chat</span><span style="background-color: #45a245; color: black;"> </span><span style="background-color: #018001; color: black;">guru!"</span><span style="background-color: #018001; color: black;"> </span><br><span style="background-color: #008000; color: black;">8.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Elevate</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #2f972f; color: black;">with</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">-</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">Your</span><span style="background-color: #1a8d1a; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">chatbot</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #d4e8d4; color: black;">companion!"</span><span style="background-color: #d4e8d4; color: black;"> </span><br><span style="background-color: #78bb78; color: black;">9.</span><span style="background-color: #78bb78; color: black;"> </span><span style="background-color: #048204; color: black;">"ChatGPT:</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #8cc58c; color: black;">The</span><span style="background-color: #8cc58c; color: black;"> </span><span style="background-color: #ddecdd; color: black;">Perfect</span><span style="background-color: #ddecdd; color: black;"> </span><span style="background-color: #e5f0e5; color: black;">Balance</span><span style="background-color: #e5f0e5; color: black;"> </span><span style="background-color: #0d860d; color: black;">of</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #188c18; color: black;">Wit</span><span style="background-color: #188c18; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligence!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">10.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #77ba77; color: black;">"Unlock</span><span style="background-color: #77ba77; color: black;"> </span><span style="background-color: #048204; color: black;">the</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">Potential</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #319831; color: black;">of</span><span style="background-color: #319831; color: black;"> </span><span style="background-color: #cfe5cf; color: black;">Chat</span><span style="background-color: #cfe5cf; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">with</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e6f1e6; color: black;">-</span><span style="background-color: #e6f1e6; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">Conversations</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #008000; color: black;">made</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">effortless!"</span><span style="background-color: #008000; color: black;"> </span></pre>
</div>
</div>
<section id="high-frequency-penalty" class="level3">
<h3 class="anchored" data-anchor-id="high-frequency-penalty">High Frequency Penalty</h3>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  frequency_penalty<span class="op">=</span><span class="dv">2</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">ChatGPT!"</span><span style="background-color: #b3d8b3; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #63b163; color: black;">"ChatGPT:</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #53a953; color: black;">and</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #0c860c; color: black;">Engaging</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">with</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #50a750; color: black;">ChatGPT!"</span><span style="background-color: #50a750; color: black;"> </span><br><span style="background-color: #e8f2e8; color: black;">4.</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8cc58c; color: black;">"Elevate</span><span style="background-color: #8cc58c; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349a34; color: black;">Conversations</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #47a347; color: black;">with</span><span style="background-color: #47a347; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligence</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e7f1e7; color: black;">ChatGPT."</span><span style="background-color: #e7f1e7; color: black;"> </span><br><span style="background-color: #d6e9d6; color: black;">5.</span><span style="background-color: #d6e9d6; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">"Chat</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #2a952a; color: black;">Smarter,</span><span style="background-color: #2a952a; color: black;"> </span><span style="background-color: #0e870e; color: black;">With</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #038103; color: black;">Confidence</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #92c892; color: black;">-</span><span style="background-color: #92c892; color: black;"> </span><span style="background-color: #008000; color: black;">Made</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #068306; color: black;">Possible</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #008000; color: black;">by</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">6.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #72b872; color: black;">"Discover</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">New</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Level</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d0e6d0; color: black;">of</span><span style="background-color: #d0e6d0; color: black;"> </span><span style="background-color: #008000; color: black;">Conversation</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Excellence</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #89c389; color: black;">with</span><span style="background-color: #89c389; color: black;"> </span><span style="background-color: #1a8d1a; color: black;">ChatGPT."</span><span style="background-color: #1a8d1a; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #289428; color: black;">Experience</span><span style="background-color: #289428; color: black;"> </span><span style="background-color: #2e972e; color: black;">Artificial</span><span style="background-color: #2e972e; color: black;"> </span><span style="background-color: #8ac48a; color: black;">Intelligence</span><span style="background-color: #8ac48a; color: black;"> </span><span style="background-color: #008000; color: black;">that</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Feels</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Human</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;"></span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">Meet</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #008000; color: black;">chatbot</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">G.</span><span style="background-color: #018001; color: black;"> </span><br><span style="background-color: #018001; color: black;">8.Make</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #b1d7b1; color: black;">Every</span><span style="background-color: #b1d7b1; color: black;"> </span><span style="background-color: #269226; color: black;">Interaction</span><span style="background-color: #269226; color: black;"> </span><span style="background-color: #008000; color: black;">Count</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;"></span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Talk</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #94c994; color: black;">to</span><span style="background-color: #94c994; color: black;"> </span><span style="background-color: #51a851; color: black;">Our</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Powerful</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #058205; color: black;">AI</span><span style="background-color: #058205; color: black;"> </span><span style="background-color: #008000; color: black;">Assistant!</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #028102; color: black;">9.Unlock</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #028102; color: black;">Boundless</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #018001; color: black;">Knowledge</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #87c287; color: black;">and</span><span style="background-color: #87c287; color: black;"> </span><span style="background-color: #008000; color: black;">Vivid</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #088408; color: black;">Imagination</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #108810; color: black;">Say</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #d7e9d7; color: black;">Hi</span><span style="background-color: #d7e9d7; color: black;"> </span><span style="background-color: #55a955; color: black;">to</span><span style="background-color: #55a955; color: black;"> </span><span style="background-color: #3d9e3d; color: black;">Our</span><span style="background-color: #3d9e3d; color: black;"> </span><span style="background-color: #6db66d; color: black;">Intelligent</span><span style="background-color: #6db66d; color: black;"> </span><span style="background-color: #008000; color: black;">AI</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #7cbd7c; color: black;">friend!"</span><span style="background-color: #7cbd7c; color: black;"> </span><span style="background-color: #7cbd7c;"> </span><br><span style="background-color: #51a851; color: black;">10."Connect,</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #8dc58d; color: black;">Collaborate,</span><span style="background-color: #8dc58d; color: black;"> </span><span style="background-color: #0b850b; color: black;">Converse</span><span style="background-color: #0b850b; color: black;"> </span><span style="background-color: #078407; color: black;">like</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #088408; color: black;">never</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #0c860c; color: black;">before</span><span style="background-color: #0c860c; color: black;"> </span><span style="background-color: #008000; color: black;">-</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #3b9d3b; color: black;">Powered</span><span style="background-color: #3b9d3b; color: black;"> </span><span style="background-color: #b9dbb9; color: black;">by</span><span style="background-color: #b9dbb9; color: black;"> </span><span style="background-color: #d3e7d3; color: black;">the</span><span style="background-color: #d3e7d3; color: black;"> </span><span style="background-color: #e6f1e6; color: black;">Amazingness</span><span style="background-color: #e6f1e6; color: black;"> </span><span style="background-color: #118811; color: black;">Of</span><span style="background-color: #118811; color: black;"> </span><span style="background-color: #d1e6d1; color: black;">'Yethe'"</span><span style="background-color: #d1e6d1; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="low-frequency-penalty" class="level3">
<h3 class="anchored" data-anchor-id="low-frequency-penalty">Low Frequency Penalty</h3>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  frequency_penalty<span class="op">=-</span><span class="fl">0.5</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cbe4cb; color: black;">Power</span><span style="background-color: #cbe4cb; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5aac5a; color: black;">with</span><span style="background-color: #5aac5a; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">ChatGPT!"</span><span style="background-color: #b4d8b4; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #65b265; color: black;">"ChatGPT:</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">Your</span><span style="background-color: #b4d8b4; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #54a954; color: black;">with</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #018001; color: black;">ChatGPT!"</span><span style="background-color: #018001; color: black;"> </span><br><span style="background-color: #008000; color: black;">4.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">"ChatGPT:</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #4fa74f; color: black;">Making</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">Conversations</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8ec58e; color: black;">Smarter!"</span><span style="background-color: #8ec58e; color: black;"> </span><br><span style="background-color: #008000; color: black;">5.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #359a35; color: black;">"Connect,</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #49a449; color: black;">Engage,</span><span style="background-color: #49a449; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Learn</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">ChatGPT!"</span><span style="background-color: #eaf2ea; color: black;"> </span><br><span style="background-color: #ddecdd; color: black;">6.</span><span style="background-color: #ddecdd; color: black;"> </span><span style="background-color: #2c962c; color: black;">"Elevate</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #9dcd9d; color: black;">Your</span><span style="background-color: #9dcd9d; color: black;"> </span><span style="background-color: #048204; color: black;">Conversations</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #74b974; color: black;">7.</span><span style="background-color: #74b974; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Virtual</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #239123; color: black;">Conversational</span><span style="background-color: #239123; color: black;"> </span><span style="background-color: #008000; color: black;">Superpower!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">8.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Experience</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d2e7d2; color: black;">the</span><span style="background-color: #d2e7d2; color: black;"> </span><span style="background-color: #138913; color: black;">Future</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #118911; color: black;">Chat</span><span style="background-color: #118911; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #289328; color: black;">ChatGPT!"</span><span style="background-color: #289328; color: black;"> </span><br><span style="background-color: #008000; color: black;">9.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Making</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">Talk</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #61af61; color: black;">as</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #daebda; color: black;">Intelligent</span><span style="background-color: #daebda; color: black;"> </span><span style="background-color: #008000; color: black;">as</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">You!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #0e870e; color: black;">10.</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #a3d0a3; color: black;">"ChatGPT:</span><span style="background-color: #a3d0a3; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatbot</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Buddy</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">for</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Every</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Occasion!"</span><span style="background-color: #008000; color: black;"> </span></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/fe9df54c-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/64e9eb21-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
</section>
</section>
<section id="presence-penalty" class="level1">
<h1>Presence Penalty</h1>
<p>Presence Penalty is a parameter that influences the generation of new content by penalizing tokens that have already appeared in the text. It ranges from -2.0 to 2.0, where positive values discourage repetition and encourage the model to introduce new topics, while negative values do the opposite. This penalty is applied as a one-time, additive contribution to tokens that have been used at least once, helping to ensure more diverse and creative outputs</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b3d8b3; color: black;">ChatGPT!"</span><span style="background-color: #b3d8b3; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #63b163; color: black;">"ChatGPT:</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #53a953; color: black;">with</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #028102; color: black;">ChatGPT</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #008000; color: black;">-</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">Chat</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #4fa74f; color: black;">smarter,</span><span style="background-color: #4fa74f; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">not</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8dc58d; color: black;">harder!"</span><span style="background-color: #8dc58d; color: black;"> </span><br><span style="background-color: #008000; color: black;">4.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349934; color: black;">"Break</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #5aac5a; color: black;">the</span><span style="background-color: #5aac5a; color: black;"> </span><span style="background-color: #008000; color: black;">Ice</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">-</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #d8ead8; color: black;">The</span><span style="background-color: #d8ead8; color: black;"> </span><span style="background-color: #259225; color: black;">Ultimate</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #b2d7b1; color: black;">Conversation</span><span style="background-color: #b2d7b1; color: black;"> </span><span style="background-color: #068306; color: black;">Starter!"</span><span style="background-color: #068306; color: black;"> </span><br><span style="background-color: #008000; color: black;">5.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #a6d2a6; color: black;">With</span><span style="background-color: #a6d2a6; color: black;"> </span><span style="background-color: #cce4cc; color: black;">every</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #c7e1c7; color: black;">chat,</span><span style="background-color: #c7e1c7; color: black;"> </span><span style="background-color: #088408; color: black;">knowledge</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #188c18; color: black;">expands!"</span><span style="background-color: #188c18; color: black;"> </span><br><span style="background-color: #008000; color: black;">6.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">"Join</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Revolution</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">-</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #259225; color: black;">Welcome</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #d6e9d6; color: black;">to</span><span style="background-color: #d6e9d6; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">ChatGPT!"</span><span style="background-color: #1f8f1f; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Experience</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #098509; color: black;">Brilliance</span><span style="background-color: #098509; color: black;"> </span><span style="background-color: #d0e6d0; color: black;">with</span><span style="background-color: #d0e6d0; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">ChatGPT</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">-</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #018001; color: black;">Seamless</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Unmatched</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Results!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">8.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #2e972e; color: black;">"Chat</span><span style="background-color: #2e972e; color: black;"> </span><span style="background-color: #008000; color: black;">Smarter,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Talk</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">Faster</span><span style="background-color: #1d8e1d; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">with</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #d5e9d5; color: black;">ChatGPT!"</span><span style="background-color: #d5e9d5; color: black;"> </span><br><span style="background-color: #8ec58e; color: black;">9.</span><span style="background-color: #8ec58e; color: black;"> </span><span style="background-color: #048204; color: black;">"ChatGPT:</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #dcecdc; color: black;">The</span><span style="background-color: #dcecdc; color: black;"> </span><span style="background-color: #5fae5f; color: black;">Intelligent</span><span style="background-color: #5fae5f; color: black;"> </span><span style="background-color: #068306; color: black;">Chatbot</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #008000; color: black;">for</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">All</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Conversational</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #008000; color: black;">Needs!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #0e870e; color: black;">10.</span><span style="background-color: #0e870e; color: black;"> </span><span style="background-color: #56aa56; color: black;">"Unlock</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">the</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #ddecdd; color: black;">Potential</span><span style="background-color: #ddecdd; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #369b36; color: black;">Chat</span><span style="background-color: #369b36; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">-</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Redefined!"</span><span style="background-color: #008000; color: black;"> </span></pre>
</div>
</div>
<section id="high-presence-penalty" class="level3">
<h3 class="anchored" data-anchor-id="high-presence-penalty">High Presence Penalty</h3>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  presence_penalty<span class="op">=</span><span class="fl">1.5</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b7dab7; color: black;">ChatGPT!"</span><span style="background-color: #b7dab7; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #63b163; color: black;">"ChatGPT:</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #53a953; color: black;">and</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #078407; color: black;">Engaging</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">with</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #4fa74f; color: black;">ChatGPT!"</span><span style="background-color: #4fa74f; color: black;"> </span><br><span style="background-color: #e8f2e8; color: black;">4.</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8cc58c; color: black;">"Elevate</span><span style="background-color: #8cc58c; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349934; color: black;">Conversations</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #56aa56; color: black;">with</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT's</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligent</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">AI."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #e7f1e7; color: black;">5.</span><span style="background-color: #e7f1e7; color: black;"> </span><span style="background-color: #d6e9d6; color: black;">"ChatGPT:</span><span style="background-color: #d6e9d6; color: black;"> </span><span style="background-color: #209020; color: black;">With</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #319831; color: black;">You</span><span style="background-color: #319831; color: black;"> </span><span style="background-color: #0f870f; color: black;">Every</span><span style="background-color: #0f870f; color: black;"> </span><span style="background-color: #038103; color: black;">Step</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #abd4ab; color: black;">of</span><span style="background-color: #abd4ab; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #048204; color: black;">Conversation."</span><span style="background-color: #048204; color: black;"> </span><br><span style="background-color: #008000; color: black;">6.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unlock</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">New</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #72b872; color: black;">Possibilities</span><span style="background-color: #72b872; color: black;"> </span><span style="background-color: #008000; color: black;">in</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Dialogue</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d3e7d3; color: black;">ChatGPT."</span><span style="background-color: #d3e7d3; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Experience</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #6cb56c; color: black;">Natural</span><span style="background-color: #6cb56c; color: black;"> </span><span style="background-color: #148a14; color: black;">Language</span><span style="background-color: #148a14; color: black;"> </span><span style="background-color: #008000; color: black;">Communication</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #048204; color: black;">with</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #44a144; color: black;">ChatGPT."</span><span style="background-color: #44a144; color: black;"> </span><br><span style="background-color: #008000; color: black;">8.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Supercharge</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1c8e1c; color: black;">Your</span><span style="background-color: #1c8e1c; color: black;"> </span><span style="background-color: #cbe4cb; color: black;">Conversations</span><span style="background-color: #cbe4cb; color: black;"> </span><span style="background-color: #86c286; color: black;">with</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #048204; color: black;">ChatGPT's</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">AI</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Assistant."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">9.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #96c996; color: black;">"Chat</span><span style="background-color: #96c996; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">Smarter,</span><span style="background-color: #1b8d1b; color: black;"> </span><span style="background-color: #008000; color: black;">Not</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #078407; color: black;">Harder,</span><span style="background-color: #078407; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">with</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #40a040; color: black;">ChatGPT."</span><span style="background-color: #40a040; color: black;"> </span><br><span style="background-color: #399c39; color: black;">10.</span><span style="background-color: #399c39; color: black;"> </span><span style="background-color: #008000; color: black;">"Say</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Hello</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #018001; color: black;">to</span><span style="background-color: #018001; color: black;"> </span><span style="background-color: #289328; color: black;">Seamless</span><span style="background-color: #289328; color: black;"> </span><span style="background-color: #068306; color: black;">Chats</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #008000; color: black;">and</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligent</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Responses</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #b8dab8; color: black;">with</span><span style="background-color: #b8dab8; color: black;"> </span><span style="background-color: #daebda; color: black;">ChatGPT!"</span><span style="background-color: #daebda; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="low-presence-penalty" class="level3">
<h3 class="anchored" data-anchor-id="low-presence-penalty">Low Presence Penalty</h3>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  presence_penalty<span class="op">=-</span><span class="dv">2</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b7dab7; color: black;">ChatGPT!"</span><span style="background-color: #b7dab7; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #63b163; color: black;">"ChatGPT:</span><span style="background-color: #63b163; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">just</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #54a954; color: black;">got</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #008000; color: black;">Smarter!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">4.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">"Connect</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #51a851; color: black;">with</span><span style="background-color: #51a851; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">ChatGPT:</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #94c994; color: black;">Your</span><span style="background-color: #94c994; color: black;"> </span><span style="background-color: #008000; color: black;">Virtual</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349934; color: black;">Chatting</span><span style="background-color: #349934; color: black;"> </span><span style="background-color: #158a15; color: black;">Guru!"</span><span style="background-color: #158a15; color: black;"> </span><br><span style="background-color: #008000; color: black;">5.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Arm</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #158a15; color: black;">Your</span><span style="background-color: #158a15; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">With</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligence!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #d0e6d0; color: black;">6.</span><span style="background-color: #d0e6d0; color: black;"> </span><span style="background-color: #6fb76f; color: black;">"ChatGPT:</span><span style="background-color: #6fb76f; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Chatting</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #008000; color: black;">Perfected</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #77ba77; color: black;">with</span><span style="background-color: #77ba77; color: black;"> </span><span style="background-color: #008000; color: black;">Artificial</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #118911; color: black;">Intelligence!"</span><span style="background-color: #118911; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">Personal</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #9ccd9c; color: black;">Chatting</span><span style="background-color: #9ccd9c; color: black;"> </span><span style="background-color: #088408; color: black;">Assistant</span><span style="background-color: #088408; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349a34; color: black;">Power</span><span style="background-color: #349a34; color: black;"> </span><span style="background-color: #8dc58d; color: black;">of</span><span style="background-color: #8dc58d; color: black;"> </span><span style="background-color: #afd6af; color: black;">AI!"</span><span style="background-color: #afd6af; color: black;"> </span><br><span style="background-color: #78bb78; color: black;">8.</span><span style="background-color: #78bb78; color: black;"> </span><span style="background-color: #43a143; color: black;">"ChatGPT:</span><span style="background-color: #43a143; color: black;"> </span><span style="background-color: #d4e8d4; color: black;">Elevate</span><span style="background-color: #d4e8d4; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">to</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #138913; color: black;">Next</span><span style="background-color: #138913; color: black;"> </span><span style="background-color: #008000; color: black;">Level!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">9.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Your</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #d7e9d7; color: black;">Smart</span><span style="background-color: #d7e9d7; color: black;"> </span><span style="background-color: #098509; color: black;">Friend</span><span style="background-color: #098509; color: black;"> </span><span style="background-color: #008000; color: black;">for</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Engaging</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #5eae5e; color: black;">Chats!"</span><span style="background-color: #5eae5e; color: black;"> </span><br><span style="background-color: #008000; color: black;">10.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Intelligent</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversations</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #289328; color: black;">Made</span><span style="background-color: #289328; color: black;"> </span><span style="background-color: #048204; color: black;">Effortless!"</span><span style="background-color: #048204; color: black;"> </span></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/c8aa2ccb-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="llm_temperature_files/figure-html/0d7d11ff-1-image.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">image.png</figcaption>
</figure>
</div>
</section>
</section>
<section id="interaction-between-frequency-penalty-and-presence-penalty" class="level1">
<h1>Interaction between Frequency Penalty and Presence Penalty</h1>
<section id="high-frequency-penalty-and-high-presence-penalty" class="level3">
<h3 class="anchored" data-anchor-id="high-frequency-penalty-and-high-presence-penalty">High Frequency Penalty and High Presence Penalty</h3>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  presence_penalty<span class="op">=</span><span class="fl">1.8</span>,</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  frequency_penalty<span class="op">=</span><span class="fl">1.8</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cbe4cb; color: black;">Power</span><span style="background-color: #cbe4cb; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5aac5a; color: black;">with</span><span style="background-color: #5aac5a; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">ChatGPT!"</span><span style="background-color: #b4d8b4; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #65b265; color: black;">"ChatGPT:</span><span style="background-color: #65b265; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">Your</span><span style="background-color: #b4d8b4; color: black;"> </span><span style="background-color: #048204; color: black;">Trusted</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"Get</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Instant</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Answers</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #54a954; color: black;">and</span><span style="background-color: #54a954; color: black;"> </span><span style="background-color: #339933; color: black;">Engaging</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #028102; color: black;">with</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #4ea64e; color: black;">ChatGPT!"</span><span style="background-color: #4ea64e; color: black;"> </span><br><span style="background-color: #e8f2e8; color: black;">4.</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #8bc48b; color: black;">"Elevate</span><span style="background-color: #8bc48b; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #359a35; color: black;">Conversations</span><span style="background-color: #359a35; color: black;"> </span><span style="background-color: #2f972f; color: black;">with</span><span style="background-color: #2f972f; color: black;"> </span><span style="background-color: #008000; color: black;">AI-Powered</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT."</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">5.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e6f1e6; color: black;">"Let's</span><span style="background-color: #e6f1e6; color: black;"> </span><span style="background-color: #d5e9d5; color: black;">Talk!</span><span style="background-color: #d5e9d5; color: black;"> </span><span style="background-color: #209020; color: black;">With</span><span style="background-color: #209020; color: black;"> </span><span style="background-color: #219021; color: black;">Dynamic</span><span style="background-color: #219021; color: black;"> </span><span style="background-color: #0d860d; color: black;">Dialogue</span><span style="background-color: #0d860d; color: black;"> </span><span style="background-color: #038103; color: black;">Made</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #45a245; color: black;">Easy</span><span style="background-color: #45a245; color: black;"> </span><span style="background-color: #008000; color: black;">by</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1b8d1b; color: black;">ChatGPT."</span><span style="background-color: #1b8d1b; color: black;"> </span><br><span style="background-color: #008000; color: black;">6.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Discover</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Smarter,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #79bc79; color: black;">More</span><span style="background-color: #79bc79; color: black;"> </span><span style="background-color: #008000; color: black;">Natural</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chats</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Using</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cbe4cb; color: black;">ChatGPT."</span><span style="background-color: #cbe4cb; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unlock</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cde5cd; color: black;">a</span><span style="background-color: #cde5cd; color: black;"> </span><span style="background-color: #56aa56; color: black;">World</span><span style="background-color: #56aa56; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #6ab46a; color: black;">Seamless</span><span style="background-color: #6ab46a; color: black;"> </span><span style="background-color: #96c996; color: black;">Communication</span><span style="background-color: #96c996; color: black;"> </span><span style="background-color: #128912; color: black;">with</span><span style="background-color: #128912; color: black;"> </span><span style="background-color: #008000; color: black;">ChatGPT."</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000;"> </span><br><span style="background-color: #269226; color: black;">8</span><span style="background-color: #269226; color: black;"> </span><span style="background-color: #259225; color: black;">."Experience</span><span style="background-color: #259225; color: black;"> </span><span style="background-color: #008000; color: black;">Human-Like</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #068306; color: black;">Interactions</span><span style="background-color: #068306; color: black;"> </span><span style="background-color: #008000; color: black;">using</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">our</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #028102; color: black;">Advanced</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #eaf2ea; color: black;">Assistant</span><span style="background-color: #eaf2ea; color: black;"> </span><span style="background-color: #87c287; color: black;">-Chat</span><span style="background-color: #87c287; color: black;"> </span><span style="background-color: #038103; color: black;">Gpt"</span><span style="background-color: #038103; color: black;"> </span><br><span style="background-color: #80bf80; color: black;">9</span><span style="background-color: #80bf80; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">."Your</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Virtual</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #85c185; color: black;">Conversation</span><span style="background-color: #85c185; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">Buddy</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #8ec58e; color: black;"></span><span style="background-color: #8ec58e; color: black;"> </span><span style="background-color: #048204; color: black;">Get</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #038103; color: black;">Talking</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #048204; color: black;">With</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #038103; color: black;">Chat</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #108810; color: black;">Gpt</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">Now</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #108810; color: black;">!</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #178b17; color: black;">"</span><span style="background-color: #178b17; color: black;"> </span><br><span style="background-color: #ddecdd; color: black;">10</span><span style="background-color: #ddecdd; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">."Revolutionize</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #86c286; color: black;">Conversations</span><span style="background-color: #86c286; color: black;"> </span><span style="background-color: #3a9c3a; color: black;">w</span><span style="background-color: #3a9c3a; color: black;"> </span></pre>
</div>
</div>
</section>
<section id="low-frequency-penalty-and-low-presence-penalty" class="level3">
<h3 class="anchored" data-anchor-id="low-frequency-penalty-and-low-presence-penalty">Low Frequency Penalty and Low Presence Penalty</h3>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.chat.completions.create(</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  model<span class="op">=</span>model,</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  messages<span class="op">=</span>[</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"system"</span>, <span class="st">"content"</span>: <span class="st">"You are a helpful assistant."</span>},</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: question}</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  ],</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  logprobs<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  temperature<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  seed<span class="op">=</span>seed,</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  presence_penalty<span class="op">=-</span><span class="fl">0.5</span>,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  frequency_penalty<span class="op">=-</span><span class="fl">0.5</span></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>highlight_openai_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="font-family: inherit; white-space: pre-wrap; word-break: break-all;"><span style="background-color: #008000; color: black;">1.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"Unleash</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">the</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #cce4cc; color: black;">Power</span><span style="background-color: #cce4cc; color: black;"> </span><span style="background-color: #008000; color: black;">of</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chat</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #5cad5c; color: black;">with</span><span style="background-color: #5cad5c; color: black;"> </span><span style="background-color: #b4d8b4; color: black;">ChatGPT!"</span><span style="background-color: #b4d8b4; color: black;"> </span><br><span style="background-color: #008000; color: black;">2.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #62b062; color: black;">"ChatGPT:</span><span style="background-color: #62b062; color: black;"> </span><span style="background-color: #b0d6b0; color: black;">Your</span><span style="background-color: #b0d6b0; color: black;"> </span><span style="background-color: #008000; color: black;">Trusted</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Conversational</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Companion!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #108810; color: black;">3.</span><span style="background-color: #108810; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">just</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #53a953; color: black;">got</span><span style="background-color: #53a953; color: black;"> </span><span style="background-color: #008000; color: black;">Smarter!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #008000; color: black;">4.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #038103; color: black;">"Connect</span><span style="background-color: #038103; color: black;"> </span><span style="background-color: #50a750; color: black;">with</span><span style="background-color: #50a750; color: black;"> </span><span style="background-color: #e8f2e8; color: black;">ChatGPT:</span><span style="background-color: #e8f2e8; color: black;"> </span><span style="background-color: #90c790; color: black;">Chatting</span><span style="background-color: #90c790; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #349934; color: black;">Intelligence!"</span><span style="background-color: #349934; color: black;"> </span><br><span style="background-color: #2c962c; color: black;">5.</span><span style="background-color: #2c962c; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Revolutionizing</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #339933; color: black;">One</span><span style="background-color: #339933; color: black;"> </span><span style="background-color: #008000; color: black;">Conversation</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">at</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">a</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #d2e7d2; color: black;">Time!"</span><span style="background-color: #d2e7d2; color: black;"> </span><br><span style="background-color: #61af61; color: black;">6.</span><span style="background-color: #61af61; color: black;"> </span><span style="background-color: #ebf3eb; color: black;">"ChatGPT:</span><span style="background-color: #ebf3eb; color: black;"> </span><span style="background-color: #008000; color: black;">Your</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #77ba77; color: black;">Virtual</span><span style="background-color: #77ba77; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #1d8e1d; color: black;">Expert!"</span><span style="background-color: #1d8e1d; color: black;"> </span><br><span style="background-color: #008000; color: black;">7.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #e9f2e9; color: black;">with</span><span style="background-color: #e9f2e9; color: black;"> </span><span style="background-color: #c9e2c8; color: black;">Artificial</span><span style="background-color: #c9e2c8; color: black;"> </span><span style="background-color: #048204; color: black;">Intelligence</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">that</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Feels</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #4ba54b; color: black;">Human!"</span><span style="background-color: #4ba54b; color: black;"> </span><br><span style="background-color: #b8dab8; color: black;">8.</span><span style="background-color: #b8dab8; color: black;"> </span><span style="background-color: #1f8f1f; color: black;">"ChatGPT:</span><span style="background-color: #1f8f1f; color: black;"> </span><span style="background-color: #c9e3c9; color: black;">Chatting</span><span style="background-color: #c9e3c9; color: black;"> </span><span style="background-color: #b7dab7; color: black;">made</span><span style="background-color: #b7dab7; color: black;"> </span><span style="background-color: #008000; color: black;">Easy,</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">made</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Powerful!"</span><span style="background-color: #008000; color: black;"> </span><br><span style="background-color: #289428; color: black;">9.</span><span style="background-color: #289428; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">with</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #deedde; color: black;">the</span><span style="background-color: #deedde; color: black;"> </span><span style="background-color: #028102; color: black;">Next</span><span style="background-color: #028102; color: black;"> </span><span style="background-color: #b2d7b2; color: black;">Level</span><span style="background-color: #b2d7b2; color: black;"> </span><span style="background-color: #3f9f3f; color: black;">of</span><span style="background-color: #3f9f3f; color: black;"> </span><span style="background-color: #badbba; color: black;">Chatbot</span><span style="background-color: #badbba; color: black;"> </span><span style="background-color: #068306; color: black;">Technology!"</span><span style="background-color: #068306; color: black;"> </span><br><span style="background-color: #048204; color: black;">10.</span><span style="background-color: #048204; color: black;"> </span><span style="background-color: #008000; color: black;">"ChatGPT:</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Chatting.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">Redefined.</span><span style="background-color: #008000; color: black;"> </span><span style="background-color: #008000; color: black;">"</span><span style="background-color: #008000; color: black;"> </span></pre>
</div>
</div>
</section>
</section>
<section id="parameter-value-suggestions" class="level1">
<h1>Parameter Value Suggestions</h1>
<section id="industry-1-creative-writing-e.g.-novels-short-stories" class="level3">
<h3 class="anchored" data-anchor-id="industry-1-creative-writing-e.g.-novels-short-stories">Industry 1: Creative Writing (e.g., Novels, Short Stories)</h3>
<ol type="1">
<li><strong>Temperature</strong>: Set to 0.8-0.9. Higher temperature encourages more creative and unexpected turns of phrase, enhancing the storytelling with originality.</li>
<li><strong>Top P (Nucleus Sampling)</strong>: Set around 0.9. Allows for a good range of probable words while still fostering creativity, which is vital in creative writing.</li>
<li><strong>Frequency Penalty</strong>: Set to a moderate value (e.g., 0.5). Helps avoid excessive repetition of words/phrases, maintaining a fresh and engaging narrative.</li>
<li><strong>Presence Penalty</strong>: Set to a lower value (e.g., 0.3-0.4). Encourages some repetition of key themes or phrases, which can be a powerful tool in storytelling.</li>
</ol>
</section>
<section id="industry-2-customer-support-e.g.-chatbots-for-service-queries" class="level3">
<h3 class="anchored" data-anchor-id="industry-2-customer-support-e.g.-chatbots-for-service-queries">Industry 2: Customer Support (e.g., Chatbots for Service Queries)</h3>
<ol type="1">
<li><strong>Temperature</strong>: Set lower, around 0.3-0.4. Ensures more predictable and relevant responses, crucial for accurate customer support.</li>
<li><strong>Top P (Nucleus Sampling)</strong>: Set around 0.8. Balances the need for coherent, relevant responses while allowing for some variability to better match customer queries.</li>
<li><strong>Frequency Penalty</strong>: Moderate to high (e.g., 0.6-0.8). In customer support, avoiding repetitive phrases can enhance clarity and professionalism in responses.</li>
<li><strong>Presence Penalty</strong>: Moderate (e.g., 0.5). Helps ensure a variety of information is provided, which can be crucial in addressing diverse customer queries comprehensively.</li>
</ol>
<section id="explanation" class="level4">
<h4 class="anchored" data-anchor-id="explanation">Explanation:</h4>
<ul>
<li><strong>Creative Writing</strong>: The settings are designed to maximize creativity and originality, ensuring a rich and engaging narrative.</li>
<li><strong>Customer Support</strong>: The focus here is on accuracy, relevance, and clarity in responses, which are essential in a customer support context.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>